<!DOCTYPE html>
<html lang="{{ lang or 'en' }}">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{% block title %}Study Fans - Educational Consulting{% endblock %}</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

	<style>
		/* Custom Animations */
		@keyframes fade-in-up {
			from {
				opacity: 0;
				transform: translateY(30px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		@keyframes slide-in-left {
			from {
				opacity: 0;
				transform: translateX(-50px);
			}

			to {
				opacity: 1;
				transform: translateX(0);
			}
		}

		@keyframes slide-in-right {
			from {
				opacity: 0;
				transform: translateX(50px);
			}

			to {
				opacity: 1;
				transform: translateX(0);
			}
		}

		@keyframes fade-in {
			from {
				opacity: 0;
			}

			to {
				opacity: 1;
			}
		}

		@keyframes bounce-slow {
			0%, 20%, 50%, 80%, 100% {
				transform: translateY(0);
			}
			40% {
				transform: translateY(-10px);
			}
			60% {
				transform: translateY(-5px);
			}
		}

		@keyframes pulse {
			0% {
				transform: scale(1);
			}
			50% {
				transform: scale(1.05);
			}
			100% {
				transform: scale(1);
			}
		}

		@keyframes rotate {
			from {
				transform: rotate(0deg);
			}
			to {
				transform: rotate(360deg);
			}
		}

		@keyframes float {
			0%, 100% {
				transform: translateY(0px);
			}
			50% {
				transform: translateY(-10px);
			}
		}

		@keyframes glow {
			0%, 100% {
				box-shadow: 0 0 5px rgba(255, 144, 21, 0.5);
			}
			50% {
				box-shadow: 0 0 20px rgba(255, 144, 21, 0.8), 0 0 30px rgba(255, 144, 21, 0.6);
			}
		}

		@keyframes shake {
			0%, 100% {
				transform: translateX(0);
			}
			25% {
				transform: translateX(-5px);
			}
			75% {
				transform: translateX(5px);
			}
		}

		@keyframes slide-in-left-continuous {
			0% {
				transform: translateX(-100%);
			}
			100% {
				transform: translateX(100vw);
			}
		}

		@keyframes slide-in-right-continuous {
			0% {
				transform: translateX(100%);
			}
			100% {
				transform: translateX(-100vw);
			}
		}

		@keyframes gentle-bounce {
			0%, 100% {
				transform: translateY(0px);
			}
			50% {
				transform: translateY(-8px);
			}
		}

		@keyframes gentle-rotate {
			0% {
				transform: rotate(0deg);
			}
			100% {
				transform: rotate(360deg);
			}
		}

		@keyframes gentle-scale {
			0%, 100% {
				transform: scale(1);
			}
			50% {
				transform: scale(1.05);
			}
		}

		@keyframes gentle-glow {
			0%, 100% {
				box-shadow: 0 0 5px rgba(255, 144, 21, 0.3);
			}
			50% {
				box-shadow: 0 0 20px rgba(255, 144, 21, 0.6);
			}
		}

		@keyframes wave {
			0%, 100% {
				transform: translateY(0px);
			}
			25% {
				transform: translateY(-5px);
			}
			75% {
				transform: translateY(5px);
			}
		}

		@keyframes scroll-left {
			0% {
				transform: translateX(0);
			}
			100% {
				transform: translateX(-50%);
			}
		}

		@keyframes scroll-right {
			0% {
				transform: translateX(-50%);
			}
			100% {
				transform: translateX(0);
			}
		}
		
		@keyframes scroll-up {
			0% {
				transform: translateY(0%);
			}
			100% {
				transform: translateY(-50%);
			}
		}
		
		@keyframes scroll-down {
			0% {
				transform: translateY(-50%);
			}
			100% {
				transform: translateY(0%);
			}
		}
		
		@keyframes scroll-horizontal {
			0% {
				transform: translateX(0%);
			}
			100% {
				transform: translateX(-50%);
			}
		}

		.animate-fade-in-up {
			animation: fade-in-up 1s ease-out forwards;
		}

		.animate-slide-in-left {
			animation: slide-in-left 0.8s ease-out forwards;
		}

		.animate-slide-in-right {
			animation: slide-in-right 0.8s ease-out forwards;
		}

		.animate-fade-in {
			animation: fade-in 1s ease-out forwards;
		}

		.animate-bounce-slow {
			animation: bounce-slow 3s infinite;
		}

		.animate-pulse {
			animation: pulse 2s infinite;
		}

		.animate-rotate {
			animation: rotate 3s linear infinite;
		}

		.animate-float {
			animation: float 3s ease-in-out infinite;
		}

		.animate-glow {
			animation: glow 2s ease-in-out infinite;
		}

		.animate-shake {
			animation: shake 0.5s ease-in-out;
		}

		.animate-scroll-left {
			animation: scroll-left 30s linear infinite;
		}
		
		.animate-scroll-right {
			animation: scroll-right 30s linear infinite;
		}
		
		.animate-scroll-down {
			animation: scroll-down 30s linear infinite;
		}
		
		.animate-scroll-up {
			animation: scroll-up 30s linear infinite;
		}
		
		.animate-scroll-horizontal {
			animation: scroll-horizontal 20s linear infinite;
		}
		
		.animation-delay-200 {
			animation-delay: 0.2s;
		}
		
		.animation-delay-400 {
			animation-delay: 0.4s;
		}
		
		.animation-delay-600 {
			animation-delay: 0.6s;
		}
		
		.animation-delay-800 {
			animation-delay: 0.8s;
		}


		/* Icon hover effects */
		.icon-hover {
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}

		.icon-hover:hover {
			transform: scale(1.1) rotate(5deg);
			color: #ff9015;
		}

		.icon-bounce:hover {
			animation: bounce-slow 0.6s ease-in-out;
		}

		.icon-pulse:hover {
			animation: pulse 1s ease-in-out;
		}

		.icon-float:hover {
			animation: float 2s ease-in-out infinite;
		}

		/* Card hover effects */
		.card-hover {
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}

		.card-hover:hover {
			transform: translateY(-5px);
			box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
		}

		/* Service card animations */
		.service-card {
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}

		.service-card:hover {
			transform: translateY(-8px);
			box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
		}

		.service-icon {
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}

		.service-card:hover .service-icon {
			transform: scale(1.1) rotate(5deg);
		}

		/* Success story animations */
		.success-story-card {
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
		}

		.success-story-card:hover {
			transform: translateY(-10px) scale(1.02);
			box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
		}

		.animation-delay-200 {
			animation-delay: 0.2s;
		}

		.animation-delay-400 {
			animation-delay: 0.4s;
		}

		.animation-delay-600 {
			animation-delay: 0.6s;
		}

		.animation-delay-800 {
			animation-delay: 0.8s;
		}

		.animation-delay-1000 {
			animation-delay: 1s;
		}

		.animation-delay-1200 {
			animation-delay: 1.2s;
		}

		/* Language-specific styles */
		[lang="uz"] {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}

		[lang="ru"] {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}

		[lang="en"] {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		}

		/* Custom scrollbar */
		::-webkit-scrollbar {
			width: 8px;
		}

		::-webkit-scrollbar-track {
			background: #f1f1f1;
		}

		::-webkit-scrollbar-thumb {
			background: #888;
			border-radius: 4px;
		}

		::-webkit-scrollbar-thumb:hover {
			background: #555;
		}

		/* Mobile optimizations */
		@media (max-width: 768px) {
			.mobile-search-container {
				padding: 0 1rem;
			}

			.mobile-search-title {
				font-size: 1.25rem;
				line-height: 1.5;
			}

			.mobile-dropdown {
				font-size: 0.875rem;
				padding: 0.75rem 1rem;
			}
		}
	</style>

	{% block extra_css %}{% endblock %}
</head>

<body class="bg-gray-50">
	<!-- Navigation -->
	<nav class="fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200/50 shadow-lg">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="flex justify-between items-center h-16">
				<!-- Logo -->
				<div class="flex-shrink-0">
					<a href="{{ url_for('index') }}" class="flex items-center space-x-2">
						<img src="/static/images/IMG_8320.JPG" alt="Study Fans" class="w-16 h-16 rounded-lg object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
					</a>
				</div>

				<!-- Desktop Navigation -->
				<div class="hidden md:block">
					<div class="ml-10 flex items-baseline space-x-4">
						<a href="{{ url_for('index') }}"
							class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group {% if request.endpoint == 'index' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
							<span class="relative z-10" data-lang="nav.home">{% if lang == 'uz' %}Bosh sahifa{% elif lang == 'ru' %}Главная{% elif lang == 'tr' %}Ana Sayfa{% else %}Home{% endif %}</span>
							{% if request.endpoint != 'index' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
						</a>

						<a href="{{ url_for('universities') }}"
							class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group {% if request.endpoint == 'universities' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
							<span class="relative z-10" data-lang="nav.universities">{% if lang == 'uz' %}Universitetlar{% elif lang == 'ru' %}Университеты{% elif lang == 'tr' %}Üniversiteler{% else %}Universities{% endif %}</span>
							{% if request.endpoint != 'universities' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
						</a>

						<a href="{{ url_for('services') }}"
							class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group {% if request.endpoint == 'services' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
							<span class="relative z-10" data-lang="nav.services">{% if lang == 'uz' %}Xizmatlar{% elif lang == 'ru' %}Услуги{% elif lang == 'tr' %}Hizmetler{% else %}Services{% endif %}</span>
							{% if request.endpoint != 'services' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
						</a>

						<a href="{{ url_for('success_stories') }}"
							class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group {% if request.endpoint == 'success_stories' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
							<span class="relative z-10" data-lang="nav.success_stories">{% if lang == 'uz' %}Muvaffaqiyat hikoyalari{% elif lang == 'ru' %}Истории успеха{% elif lang == 'tr' %}Başarı hikayeleri{% else %}Success Stories{% endif %}</span>
							{% if request.endpoint != 'success_stories' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
						</a>

						<a href="{{ url_for('about') }}"
							class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group {% if request.endpoint == 'about' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
							<span class="relative z-10" data-lang="nav.about">{% if lang == 'uz' %}Biz haqimizda{% elif lang == 'ru' %}О нас{% elif lang == 'tr' %}Hakkımızda{% else %}About{% endif %}</span>
							{% if request.endpoint != 'about' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
						</a>

						<a href="{{ url_for('contact') }}"
							class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group {% if request.endpoint == 'contact' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
							<span class="relative z-10" data-lang="nav.contact">{% if lang == 'uz' %}Aloqa{% elif lang == 'ru' %}Контакты{% elif lang == 'tr' %}İletişim{% else %}Contact{% endif %}</span>
							{% if request.endpoint != 'contact' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
						</a>
					</div>
				</div>

				<!-- Language Switcher -->
				<div class="hidden md:flex items-center">
					<div class="relative group">
						<button class="flex items-center space-x-1 px-3 py-3 text-sm rounded-[1rem] shadow-xl bg-gray-300 hover:bg-gray-200 transition-all duration-200">
							<span class="font-medium">
								{% if lang == 'uz' %}UZ{% elif lang == 'en' %}EN{% elif lang == 'ru' %}RU{% else %}TR{% endif %}
							</span>
							<i class="fas fa-chevron-down text-xs transition-transform duration-200 group-hover:rotate-180"></i>
						</button>
						
						<div class="absolute right-0 mt-2 w-20 bg-white rounded-[1rem] shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
							<a href="{{ request.url | replace_query_param('lang', 'uz') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 rounded-t-[1rem] transition-colors duration-200 {% if lang == 'uz' %}bg-gray-300{% endif %}">
								UZ
							</a>
							<a href="{{ request.url | replace_query_param('lang', 'en') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 transition-colors duration-200 {% if lang == 'en' %}bg-gray-300{% endif %}">
								EN
							</a>
							<a href="{{ request.url | replace_query_param('lang', 'ru') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 transition-colors duration-200 {% if lang == 'ru' %}bg-gray-300{% endif %}">
								RU
							</a>
							<a href="{{ request.url | replace_query_param('lang', 'tr') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 rounded-b-[1rem] transition-colors duration-200 {% if lang == 'tr' %}bg-gray-300{% endif %}">
								TR
							</a>
						</div>
					</div>
				</div>	

				<!-- Mobile Language Switcher -->
				<div class="md:hidden flex items-center space-x-2">
					<div class="relative group">
						<button class="flex items-center space-x-1 px-3 py-3 text-sm rounded-[1rem] shadow-xl bg-gray-300 hover:bg-gray-200 transition-all duration-200">
							<span class="font-medium">
								{% if lang == 'uz' %}UZ{% elif lang == 'en' %}EN{% elif lang == 'ru' %}RU{% else %}TR{% endif %}
							</span>
							<i class="fas fa-chevron-down text-xs transition-transform duration-200 group-hover:rotate-180"></i>
						</button>
						
						<div class="absolute right-0 mt-2 w-20 bg-white rounded-[1rem] shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
							<a href="{{ request.url | replace_query_param('lang', 'uz') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 rounded-t-[1rem] transition-colors duration-200 {% if lang == 'uz' %}bg-gray-300{% endif %}">
								UZ
							</a>
							<a href="{{ request.url | replace_query_param('lang', 'en') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 transition-colors duration-200 {% if lang == 'en' %}bg-gray-300{% endif %}">
								EN
							</a>
							<a href="{{ request.url | replace_query_param('lang', 'ru') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 transition-colors duration-200 {% if lang == 'ru' %}bg-gray-300{% endif %}">
								RU
							</a>
							<a href="{{ request.url | replace_query_param('lang', 'tr') }}" 
								class="block px-3 py-2 text-sm hover:bg-gray-200 rounded-b-[1rem] transition-colors duration-200 {% if lang == 'tr' %}bg-gray-300{% endif %}">
								TR
							</a>
						</div>
					</div>

					<button type="button" onclick="toggleMobileMenu()" class="flex items-center px-[0.9rem] py-[0.9rem] rounded-[1rem] shadow-xl bg-gray-300 hover:bg-gray-200 transition-all duration-200">
						<span class="sr-only">Open main menu</span>
						<i class="fas fa-bars text-md transition-transform duration-200 group-hover:rotate-180"></i>
					</button>
				</div>
			</div>
		</div>

		<!-- Mobile Navigation Menu -->
		<div id="mobile-menu" class="md:hidden hidden">
			<div class="px-4 pt-4 pb-6 space-y-3 sm:px-6 bg-white border-t border-gray-200">
				<a href="{{ url_for('index') }}"
					class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group flex items-center space-x-4 {% if request.endpoint == 'index' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
					<i class="fas fa-home text-lg"></i>
					<span class="relative z-10" data-lang="nav.home">{% if lang == 'uz' %}Bosh sahifa{% elif lang == 'ru' %}Главная{% elif lang == 'tr' %}Ana Sayfa{% else %}Home{% endif %}</span>
					{% if request.endpoint != 'index' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
				</a>

				<a href="{{ url_for('universities') }}"
					class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group flex items-center space-x-4 {% if request.endpoint == 'universities' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
					<i class="fas fa-university text-lg"></i>
					<span class="relative z-10" data-lang="nav.universities">{% if lang == 'uz' %}Universitetlar{% elif lang == 'ru' %}Университеты{% elif lang == 'tr' %}Üniversiteler{% else %}Universities{% endif %}</span>
					{% if request.endpoint != 'universities' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
				</a>

				<a href="{{ url_for('services') }}"
					class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group flex items-center space-x-4 {% if request.endpoint == 'services' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
					<i class="fas fa-cogs text-lg"></i>
					<span class="relative z-10" data-lang="nav.services">{% if lang == 'uz' %}Xizmatlar{% elif lang == 'ru' %}Услуги{% elif lang == 'tr' %}Hizmetler{% else %}Services{% endif %}</span>
					{% if request.endpoint != 'services' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
				</a>

				<a href="{{ url_for('success_stories') }}"
					class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group flex items-center space-x-4 {% if request.endpoint == 'success_stories' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
					<i class="fas fa-star text-lg"></i>
					<span class="relative z-10" data-lang="nav.success_stories">{% if lang == 'uz' %}Muvaffaqiyat hikoyalari{% elif lang == 'ru' %}Истории успеха{% elif lang == 'tr' %}Başarı hikayeleri{% else %}Success Stories{% endif %}</span>
					{% if request.endpoint != 'success_stories' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
				</a>

				<a href="{{ url_for('about') }}"
					class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group flex items-center space-x-4 {% if request.endpoint == 'about' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
					<i class="fas fa-info-circle text-lg"></i>
					<span class="relative z-10" data-lang="nav.about">{% if lang == 'uz' %}Biz haqimizda{% elif lang == 'ru' %}О нас{% elif lang == 'tr' %}Hakkımızda{% else %}About{% endif %}</span>
					{% if request.endpoint != 'about' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
				</a>

				<a href="{{ url_for('contact') }}"
					class="nav-link relative px-6 py-3 font-medium text-sm transition-all duration-300 group flex items-center space-x-4 {% if request.endpoint == 'contact' %}text-[#003262] bg-[#ff9015] text-white rounded-[1rem] shadow-xl{% else %}text-gray-700 hover:text-white{% endif %}">
					<i class="fas fa-phone text-lg"></i>
					<span class="relative z-10" data-lang="nav.contact">{% if lang == 'uz' %}Aloqa{% elif lang == 'ru' %}Контакты{% elif lang == 'tr' %}İletişim{% else %}Contact{% endif %}</span>
					{% if request.endpoint != 'contact' %}<div class="absolute inset-0 bg-[#ff9015] rounded-[1rem] scale-0 group-hover:scale-100 transition-transform duration-300 ease-out shadow-xl"></div>{% endif %}
				</a>
			</div>
		</div>
	</nav>

	<!-- Flash Messages -->
	{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
			<div class="fixed top-20 right-4 z-50 space-y-2">
				{% for category, message in messages %}
					<div class="bg-{% if category == 'success' %}green{% elif category == 'error' %}red{% else %}blue{% endif %}-500 text-white px-6 py-3 rounded-lg shadow-lg transform transition-all duration-300 translate-x-full" id="flash-{{ loop.index }}">
						<div class="flex items-center justify-between">
							<span>{{ message }}</span>
							<button onclick="closeFlash({{ loop.index }})" class="ml-4 text-white hover:text-gray-200">
								<i class="fas fa-times"></i>
							</button>
						</div>
					</div>
				{% endfor %}
			</div>
		{% endif %}
	{% endwith %}

	<!-- Flash Messages -->
	{% with messages = get_flashed_messages(with_categories=true) %}
		{% if messages %}
			<div class="fixed top-20 right-4 z-50 space-y-2">
				{% for category, message in messages %}
					<div class="bg-{% if category == 'success' %}green{% else %}red{% endif %}-500 text-white px-6 py-4 rounded-lg shadow-lg max-w-md animate-fade-in-up">
						<div class="flex items-center">
							<i class="fas fa-{% if category == 'success' %}check-circle{% else %}exclamation-circle{% endif %} mr-3"></i>
							<span>{{ message }}</span>
						</div>
					</div>
				{% endfor %}
			</div>
		{% endif %}
	{% endwith %}

	<!-- Success Modal -->
	<div id="successModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
		<div class="bg-white rounded-3xl p-8 max-w-md w-full mx-4 transform transition-all duration-300 scale-95 opacity-0" id="successModalContent">
			<div class="text-center">
				<div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
					<i class="fas fa-check-circle text-4xl text-green-500"></i>
				</div>
				<h3 class="text-2xl font-bold text-gray-900 mb-4">
					{% if lang == 'uz' %}Muvaffaqiyat!{% elif lang == 'ru' %}Успешно!{% elif lang == 'tr' %}Başarılı!{% else %}Success!{% endif %}
				</h3>
				<p class="text-gray-600 mb-6" id="successMessage">
					{% if lang == 'uz' %}Arizangiz muvaffaqiyatli yuborildi! Tez orada siz bilan bog'lanamiz.{% elif lang == 'ru' %}Ваша заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.{% elif lang == 'tr' %}Başvurunuz başarıyla gönderildi! Yakında sizinle iletişime geçeceğiz.{% else %}Your application has been sent successfully! We will contact you soon.{% endif %}
				</p>
				<div class="bg-blue-50 rounded-xl p-4 mb-6">
					<p class="text-sm text-gray-600 mb-2">
						{% if lang == 'uz' %}Agar savollaringiz bo'lsa, biz bilan bog'laning:{% elif lang == 'ru' %}Если у вас есть вопросы, свяжитесь с нами:{% elif lang == 'tr' %}Sorularınız varsa bizimle iletişime geçin:{% else %}If you have questions, contact us:{% endif %}
					</p>
					<p class="text-lg font-semibold text-blue-600">+998 90 123 45 67</p>
				</div>
				<button onclick="closeSuccessModal()" class="w-full bg-gradient-to-r from-green-400 to-green-500 hover:from-green-500 hover:to-green-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300">
					{% if lang == 'uz' %}Yopish{% elif lang == 'ru' %}Закрыть{% elif lang == 'tr' %}Kapat{% else %}Close{% endif %}
				</button>
			</div>
		</div>
	</div>

	<!-- Error Modal -->
	<div id="errorModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
		<div class="bg-white rounded-3xl p-8 max-w-md w-full mx-4 transform transition-all duration-300 scale-95 opacity-0" id="errorModalContent">
			<div class="text-center">
				<div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6">
					<i class="fas fa-exclamation-triangle text-4xl text-red-500"></i>
				</div>
				<h3 class="text-2xl font-bold text-gray-900 mb-4">
					{% if lang == 'uz' %}Xatolik!{% elif lang == 'ru' %}Ошибка!{% elif lang == 'tr' %}Hata!{% else %}Error!{% endif %}
				</h3>
				<p class="text-gray-600 mb-6" id="errorMessage">
					{% if lang == 'uz' %}Xatolik yuz berdi. Iltimos, qaytadan urinib ko'ring.{% elif lang == 'ru' %}Произошла ошибка. Пожалуйста, попробуйте еще раз.{% elif lang == 'tr' %}Bir hata oluştu. Lütfen tekrar deneyin.{% else %}An error occurred. Please try again.{% endif %}
				</p>
				<div class="bg-red-50 rounded-xl p-4 mb-6">
					<p class="text-sm text-gray-600 mb-2">
						{% if lang == 'uz' %}Agar muammo davom etsa, telefon orqali bog'laning:{% elif lang == 'ru' %}Если проблема продолжается, свяжитесь с нами по телефону:{% elif lang == 'tr' %}Sorun devam ederse telefon ile iletişime geçin:{% else %}If the problem continues, contact us by phone:{% endif %}
					</p>
					<p class="text-lg font-semibold text-red-600">+998 90 123 45 67</p>
				</div>
				<button onclick="closeErrorModal()" class="w-full bg-gradient-to-r from-red-400 to-red-500 hover:from-red-500 hover:to-red-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300">
					{% if lang == 'uz' %}Yopish{% elif lang == 'ru' %}Закрыть{% elif lang == 'tr' %}Kapat{% else %}Close{% endif %}
				</button>
			</div>
		</div>
	</div>

	<!-- Main Content -->
	<main>
		{% block content %}{% endblock %}
	</main>

	<!-- Footer -->
	<footer class="bg-gray-900 text-white py-12">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="grid grid-cols-1 md:grid-cols-4 gap-8">
				<!-- Company Info -->
				<div class="col-span-1 md:col-span-2">
					<div class="flex items-center space-x-2 mb-4">
						<span class="text-xl font-bold">Study Fans</span>
					</div>
					<p class="text-gray-400 mb-4 max-w-md">
						{% if lang == 'uz' %}
							Ta'lim sohasida professional maslahat va yordam beruvchi kompaniya. Sizning kelajagingizni shakllantirishda yordam beramiz.
						{% elif lang == 'ru' %}
							Компания, предоставляющая профессиональные консультации и помощь в сфере образования. Помогаем формировать ваше будущее.
						{% else %}
							Professional educational consulting company helping you shape your future through quality education guidance.
						{% endif %}
					</p>
					<div class="flex space-x-4">
						<a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							<i class="fab fa-facebook-f text-xl"></i>
						</a>
						<a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							<i class="fab fa-twitter text-xl"></i>
						</a>
						<a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							<i class="fab fa-instagram text-xl"></i>
						</a>
						<a href="#" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							<i class="fab fa-linkedin-in text-xl"></i>
						</a>
					</div>
				</div>

				<!-- Quick Links -->
				<div>
					<h3 class="text-lg font-semibold mb-4">
						{% if lang == 'uz' %}Tezkor havolalar{% elif lang == 'ru' %}Быстрые ссылки{% else %}Quick Links{% endif %}
					</h3>
					<ul class="space-y-2">
						<li><a href="{{ url_for('index') }}" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							{% if lang == 'uz' %}Bosh sahifa{% elif lang == 'ru' %}Главная{% else %}Home{% endif %}
						</a></li>
						<li><a href="{{ url_for('universities') }}" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							{% if lang == 'uz' %}Universitetlar{% elif lang == 'ru' %}Университеты{% else %}Universities{% endif %}
						</a></li>
						<li><a href="{{ url_for('services') }}" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							{% if lang == 'uz' %}Xizmatlar{% elif lang == 'ru' %}Услуги{% else %}Services{% endif %}
						</a></li>
						<li><a href="{{ url_for('success_stories') }}" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							{% if lang == 'uz' %}Muvaffaqiyat hikoyalari{% elif lang == 'ru' %}Истории успеха{% else %}Success Stories{% endif %}
						</a></li>
						<li><a href="{{ url_for('about') }}" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							{% if lang == 'uz' %}Biz haqimizda{% elif lang == 'ru' %}О нас{% else %}About{% endif %}
						</a></li>
						<li><a href="{{ url_for('contact') }}" class="text-gray-400 hover:text-yellow-400 transition-colors duration-200">
							{% if lang == 'uz' %}Aloqa{% elif lang == 'ru' %}Контакты{% else %}Contact{% endif %}
						</a></li>
					</ul>
				</div>

				<!-- Contact Info -->
				<div>
					<h3 class="text-lg font-semibold mb-4">
						{% if lang == 'uz' %}Aloqa ma'lumotlari{% elif lang == 'ru' %}Контактная информация{% elif lang == 'tr' %}İletişim Bilgileri{% else %}Contact Info{% endif %}
					</h3>
					<div class="space-y-2">
						<div class="flex items-center space-x-2">
							<i class="fas fa-phone text-yellow-400"></i>
							<span class="text-gray-400">+998 90 123 45 67</span>
						</div>
						<div class="flex items-center space-x-2">
							<i class="fas fa-envelope text-yellow-400"></i>
							<span class="text-gray-400">info@studyfans.uz</span>
						</div>
						<div class="flex items-center space-x-2">
							<i class="fas fa-map-marker-alt text-yellow-400"></i>
							<span class="text-gray-400">
								{% if lang == 'uz' %}Toshkent, O'zbekiston{% elif lang == 'ru' %}Ташкент, Узбекистан{% elif lang == 'tr' %}Taşkent, Özbekistan{% else %}Tashkent, Uzbekistan{% endif %}
							</span>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Bottom Section -->
            <div class="border-t border-gray-700 mt-12 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="text-center md:text-left mb-4 md:mb-0">
						<p class="text-gray-400 text-sm">
							&copy; 2025 Study Fans. 
							{% if lang == 'uz' %}Barcha huquqlar himoyalangan.{% elif lang == 'ru' %}Все права защищены.{% elif lang == 'tr' %}Tüm haklar saklıdır.{% else %}All rights reserved.{% endif %}
						</p>
                    </div>
                    <div class="flex flex-wrap justify-center md:justify-end items-center space-x-6 text-sm">
                        <a href="https://nurkom.uz/" class="text-gray-400 hover:text-white transition-colors duration-200">
							{% if lang == 'uz' %}<span class="bg-[#00FFAA] font-bold text-white px-2 py-1">NURKOM</span> tomonidan ishlab chiqilgan
							{% elif lang == 'ru' %}Pазработано <span class="bg-[#00FFAA] font-bold text-white px-2 py-1">NURKOM</span>
							{% elif lang == 'tr' %}<span class="bg-[#00FFAA] font-bold text-white px-2 py-1">NURKOM</span> tarafından geliştirildi
							{% elif lang == 'en' %}Developed by <span class="bg-[#00FFAA] font-bold text-white px-2 py-1">NURKOM</span>
							{% endif %}
						</a>
                    </div>
                </div>
            </div>
		</div>
	</footer>

	<!-- Scripts -->
	<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
	<script>
		// Initialize AOS
		AOS.init({
			duration: 1000,
			once: true,
			offset: 100
		});

		// Mobile menu toggle
		function toggleMobileMenu() {
			const mobileMenu = document.getElementById('mobile-menu');
			mobileMenu.classList.toggle('hidden');
		}

		// Close mobile menu when clicking outside
		document.addEventListener('click', function(event) {
			const mobileMenu = document.getElementById('mobile-menu');
			const menuButton = event.target.closest('[onclick="toggleMobileMenu()"]');
			
			if (!mobileMenu.contains(event.target) && !menuButton) {
				mobileMenu.classList.add('hidden');
			}
		});

		// Flash message auto-close
		function closeFlash(index) {
			const flash = document.getElementById('flash-' + index);
			if (flash) {
				flash.style.transform = 'translateX(100%)';
				setTimeout(() => {
					flash.remove();
				}, 300);
			}
		}

		// Auto-close flash messages after 5 seconds
		document.addEventListener('DOMContentLoaded', function() {
			const flashMessages = document.querySelectorAll('[id^="flash-"]');
			flashMessages.forEach((flash, index) => {
				setTimeout(() => {
					closeFlash(index + 1);
				}, 5000);
			});
		});

		// Smooth scrolling for anchor links
		document.querySelectorAll('a[href^="#"]').forEach(anchor => {
			anchor.addEventListener('click', function (e) {
				e.preventDefault();
				const target = document.querySelector(this.getAttribute('href'));
				if (target) {
					target.scrollIntoView({
						behavior: 'smooth',
						block: 'start'
					});
				}
			});
		});

		// Language switching with persistence
		function switchLanguage(lang) {
			// Save language preference to localStorage
			localStorage.setItem('preferred_language', lang);
			
			const currentUrl = new URL(window.location);
			currentUrl.searchParams.set('lang', lang);
			window.location.href = currentUrl.toString();
		}

		// Load saved language preference on page load
		document.addEventListener('DOMContentLoaded', function() {
			const savedLang = localStorage.getItem('preferred_language');
			const currentLang = new URLSearchParams(window.location.search).get('lang');
			
			// Always update localStorage with current URL language if it exists
			if (currentLang) {
				localStorage.setItem('preferred_language', currentLang);
			}
			// If no language is specified in URL and we have a saved preference, redirect
			else if (savedLang) {
				const currentUrl = new URL(window.location);
				currentUrl.searchParams.set('lang', savedLang);
				window.location.href = currentUrl.toString();
			}

			// Auto-hide flash messages after 5 seconds
			const flashMessages = document.querySelectorAll('.fixed.top-20.right-4 .bg-green-500, .fixed.top-20.right-4 .bg-red-500');
			flashMessages.forEach(function(message) {
				setTimeout(function() {
					message.style.opacity = '0';
					message.style.transform = 'translateX(100%)';
					setTimeout(function() {
						message.remove();
					}, 300);
				}, 5000);
			});

			// Check for success/error parameters in URL and show modals
			const urlParams = new URLSearchParams(window.location.search);
			const success = urlParams.get('success');
			const error = urlParams.get('error');
			
			if (success === 'true') {
				showSuccessModal();
				// Remove success parameter from URL
				urlParams.delete('success');
				window.history.replaceState({}, '', window.location.pathname + (urlParams.toString() ? '?' + urlParams.toString() : ''));
			} else if (error === 'true') {
				showErrorModal();
				// Remove error parameter from URL
				urlParams.delete('error');
				window.history.replaceState({}, '', window.location.pathname + (urlParams.toString() ? '?' + urlParams.toString() : ''));
			}
		});

		// Modal functions
		function showSuccessModal() {
			const modal = document.getElementById('successModal');
			const content = document.getElementById('successModalContent');
			modal.classList.remove('hidden');
			setTimeout(() => {
				content.classList.remove('scale-95', 'opacity-0');
				content.classList.add('scale-100', 'opacity-100');
			}, 10);
		}

		function closeSuccessModal() {
			const modal = document.getElementById('successModal');
			const content = document.getElementById('successModalContent');
			content.classList.remove('scale-100', 'opacity-100');
			content.classList.add('scale-95', 'opacity-0');
			setTimeout(() => {
				modal.classList.add('hidden');
			}, 300);
		}

		function showErrorModal() {
			const modal = document.getElementById('errorModal');
			const content = document.getElementById('errorModalContent');
			modal.classList.remove('hidden');
			setTimeout(() => {
				content.classList.remove('scale-95', 'opacity-0');
				content.classList.add('scale-100', 'opacity-100');
			}, 10);
		}

		function closeErrorModal() {
			const modal = document.getElementById('errorModal');
			const content = document.getElementById('errorModalContent');
			content.classList.remove('scale-100', 'opacity-100');
			content.classList.add('scale-95', 'opacity-0');
			setTimeout(() => {
				modal.classList.add('hidden');
			}, 300);
		}

		// Close modals when clicking outside
		document.getElementById('successModal').addEventListener('click', function(e) {
			if (e.target === this) {
				closeSuccessModal();
			}
		});

		document.getElementById('errorModal').addEventListener('click', function(e) {
			if (e.target === this) {
				closeErrorModal();
			}
		});
	</script>

	{% block extra_js %}{% endblock %}
</body>

</html>
