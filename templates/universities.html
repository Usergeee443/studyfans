{% extends "base.html" %}

{% block title %}
	{% if lang == 'uz' %}Universitetlar - Study Fans{% elif lang == 'ru' %}Университеты - Study Fans{% elif lang == 'tr' %}Üniversiteler - Study Fans{% else %}Universities - Study Fans{% endif %}
{% endblock %}

{% block extra_css %}
<style>
	.small-swiper {
		width: 100%;
		height: auto;
	}
	
	.small-swiper .swiper-slide {
		width: auto;
	}
	

	/* Top University Card - New Premium Design */
	.top-university-card-new {
		display: block;
		text-decoration: none;
		color: inherit;
		background: white;
		border-radius: 24px;
		overflow: hidden;
		transition: all 0.3s ease;
		height: 100%;
		position: relative;
		box-shadow: 0 1px 3px rgba(0,0,0,0.1);
		border: 1px solid rgba(0,0,0,0.06);
	}

	.top-university-card-new:hover {
		transform: translateY(-4px);
		box-shadow: 0 12px 32px rgba(0,0,0,0.15);
	}

	.top-university-image-bg {
		width: 100%;
		height: 200px;
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		position: relative;
		overflow: hidden;
	}
	
	.top-university-logo-new {
		position: absolute;
		top: 16px;
		left: 16px;
		width: 56px;
		height: 56px;
		display: flex;
		align-items: center;
		justify-content: center;
		z-index: 2;
	}

	.university-logo-placeholder-new {
		width: 100%;
		height: 100%;
		background: #2563eb;
		border-radius: 8px;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 1.25rem;
		font-weight: 700;
		color: white;
		font-family: 'Inter', sans-serif;
		border: 2px solid white;
		box-shadow: 0 2px 8px rgba(0,0,0,0.15);
	}

	.university-logo-img-new {
		width: 100%;
		height: 100%;
		object-fit: cover;
		border-radius: 8px;
		border: 2px solid white;
		box-shadow: 0 2px 8px rgba(0,0,0,0.15);
	}

	.top-university-name-new {
		font-size: 1.125rem;
		font-weight: 700;
		color: #111;
		margin-bottom: 0.5rem;
		font-family: 'Inter', sans-serif;
		line-height: 1.3;
		letter-spacing: -0.01em;
		text-align: left;
	}

	.top-university-location-new {
		font-size: 0.875rem;
		color: #6b7280;
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
		margin-bottom: 0;
		text-align: left;
	}

	.top-university-stats {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
	}

	.top-university-stats > div {
		font-size: 0.8125rem;
		color: #6b7280;
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
	}

	.top-university-btn-new {
		width: 100%;
		padding: 0.75rem 1.5rem;
		background: white;
		color: #111;
		border: 1px solid #e5e7eb;
		border-radius: 100px;
		font-weight: 600;
		font-size: 0.875rem;
		cursor: pointer;
		transition: all 0.2s ease;
		font-family: 'Inter', sans-serif;
		text-align: center;
		text-decoration: none;
		display: inline-block;
		margin-top: 1rem;
	}

	.top-university-btn-new:hover {
		background: #f9fafb;
		border-color: #d1d5db;
		transform: translateY(-1px);
		box-shadow: 0 2px 8px rgba(0,0,0,0.1);
	}

	@media (max-width: 768px) {
		.top-university-image-bg {
			height: 180px;
		}
		
		.top-university-logo-new {
			width: 48px;
			height: 48px;
			top: 12px;
			left: 12px;
		}
		
		.university-logo-placeholder-new {
			font-size: 1rem;
			border-radius: 6px;
		}
		
		.top-university-name-new {
			font-size: 1rem;
			margin-bottom: 0.75rem;
		}
		
		.top-university-info-item {
			font-size: 0.75rem;
		}
		
		.top-university-btn-new {
			padding: 0.625rem 1.25rem;
			font-size: 0.8125rem;
		}
	}
	
	.sticky-categories {
		position: sticky;
		top: 0;
		z-index: 30;
		background: white;
		backdrop-filter: blur(10px);
		border-bottom: 1px solid #e5e7eb;
	}

	/* Universities Grid - Optimized spacing */
	.universities-container {
		padding-left: 0.75rem;
		padding-right: 0.75rem;
	}
	
	@media (min-width: 768px) {
		.universities-container {
			padding-left: 1rem;
			padding-right: 1rem;
		}
	}
	
	@media (min-width: 1024px) {
		.universities-container {
			padding-left: 1.5rem;
			padding-right: 1.5rem;
			max-width: 100%;
		}
	}
	
	.universities-grid {
		display: grid;
		grid-template-columns: 1fr; /* Mobile: 1 ta */
		gap: 0.75rem;
	}
	
	@media (min-width: 768px) {
		.universities-grid {
			grid-template-columns: repeat(3, 1fr);
			gap: 1rem;
		}
	}
	
	@media (min-width: 1024px) {
		.universities-grid {
			grid-template-columns: repeat(4, 1fr);
			gap: 1rem;
		}
	}
	
	@media (min-width: 1280px) {
		.universities-grid {
			grid-template-columns: repeat(5, 1fr);
		}
	}

	/* University Card - Updated design */
		.university-card {
		border-radius: 1.5rem;
		display: flex;
		flex-direction: column;
		height: 100%;
		}

	.university-card > div:first-child {
		height: 140px;
		}

		.university-card h3 {
		font-size: 0.875rem;
		line-height: 1.3;
		margin-bottom: 0.5rem;
		}

		.university-card .text-xs {
		font-size: 0.6875rem;
	}
	
	.university-card .text-sm {
		font-size: 0.75rem;
	}
	
	.university-card .text-base {
		font-size: 0.8125rem;
		}

		.university-card .text-xl {
		font-size: 1rem;
	}
	
	.university-card .p-5 {
		padding: 0.75rem;
		flex: 1;
		display: flex;
		flex-direction: column;
	}
	
	.university-card .flex.flex-col.gap-2 {
		margin-top: auto;
	}
	
	@media (min-width: 768px) {
		.university-card > div:first-child {
			height: 180px;
		}

		.university-card .p-5 {
			padding: 1.25rem;
		}

		.university-card h3 {
			font-size: 1.125rem;
			margin-bottom: 0.75rem;
		}

		.university-card .text-xs {
			font-size: 0.75rem;
		}
		
		.university-card .text-sm {
			font-size: 0.875rem;
		}
		
		.university-card .text-base {
			font-size: 0.9375rem;
		}

		.university-card .text-xl {
			font-size: 1.25rem;
		}
	}

/* Filter Panel Styles */
.filter-group {
	margin-bottom: 1.5rem;
}

.filter-group:last-child {
	margin-bottom: 0;
}

.filter-label {
	display: block;
	font-size: 0.875rem;
	font-weight: 600;
	color: #111;
	margin-bottom: 0.75rem;
	font-family: 'Inter', sans-serif;
}

.filter-options {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem;
}

.filter-chip {
	padding: 0.5rem 1rem;
	background: #f3f4f6;
	border: 1px solid #e5e7eb;
	border-radius: 100px;
	font-size: 0.8125rem;
	font-weight: 500;
	color: #374151;
	cursor: pointer;
	transition: all 0.2s ease;
	font-family: 'Inter', sans-serif;
	white-space: nowrap;
}

.filter-chip:hover {
	background: #e5e7eb;
	border-color: #d1d5db;
}

.filter-chip.active {
	background: #2563eb;
	border-color: #2563eb;
	color: white;
}

.filter-chip.active:hover {
	background: #1d4ed8;
	border-color: #1d4ed8;
}

/* Filter Badge */
.filter-badge {
	display: none;
	align-items: center;
	justify-content: center;
	min-width: 18px;
	height: 18px;
	padding: 0 5px;
	background: #2563eb;
	color: white;
	font-size: 0.7rem;
	font-weight: 600;
	border-radius: 9px;
	margin-left: 4px;
}

/* Multi-select chip with checkmark */
.filter-chip.active::before {
	content: '✓';
	margin-right: 4px;
	font-size: 0.7rem;
}

@media (max-width: 768px) {
	#filterPanel {
		max-height: calc(100vh - 200px);
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
	}
	
	.filter-options {
		gap: 0.375rem;
	}
	
	.filter-chip {
		padding: 0.4375rem 0.875rem;
		font-size: 0.75rem;
	}
	
	.filter-group {
		margin-bottom: 1.25rem;
	}
	
	.filter-label {
		font-size: 0.8125rem;
		margin-bottom: 0.625rem;
	}
}

/* CTA Section Styles */
.gradient-wrapper-cta {
	position: relative;
}

.cta-section {
	background: transparent;
	position: relative;
	padding-top: 80px;
	padding-bottom: 80px;
}

@media (max-width: 768px) {
	.cta-section {
		padding-top: 40px;
		padding-bottom: 40px;
		overflow: visible;
		margin-left: 0;
		margin-right: 0;
		width: 100%;
	}
	
	.cta-section .max-w-5xl {
		padding-left: 1rem;
		padding-right: 1rem;
	}
}

.cta-wave-container {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	width: 100%;
	height: 120px;
	overflow: hidden;
	z-index: 1;
}

@media (max-width: 768px) {
	.cta-wave-container {
		left: 0;
		right: 0;
		width: 100%;
		height: 100px;
	}
	
	.cta-wave {
		width: 200%;
		height: 100px;
	}
}

.cta-wave {
	position: absolute;
	bottom: 0;
	left: 0;
	width: 200%;
	height: 120px;
	transform: translateX(-50%);
	transform-origin: center bottom;
}

.cta-wave-delayed {
	opacity: 0.7;
}

@media (max-width: 768px) {
	.cta-wave {
		height: 80px;
		}
	}
</style>
{% endblock %}

{% block content %}

<div class="page-container" style="margin-top: 0; padding-top: 0;">
<!-- Top Section with Title, Search and Filter -->
<section class="pt-6 pb-6 bg-white">
	<div class="max-w-7xl mx-auto px-6">
		<!-- Mobile Layout: Title on top, Search/Filter below -->
		<!-- Desktop Layout: Title and Search/Filter side by side -->
		<div class="flex flex-col md:flex-row md:items-start md:justify-between md:gap-4 mb-4 md:mb-6">
			<!-- Title Section -->
			<div class="flex-1 mb-4 md:mb-0">
				<h1 class="text-2xl font-medium text-gray-900 mb-1" style="font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif; letter-spacing: -0.02em;">
					{% if lang == 'uz' %}Universitetlar{% elif lang == 'ru' %}Университеты{% elif lang == 'tr' %}Üniversiteler{% else %}Universities{% endif %}
				</h1>
				<!-- Description - Hidden on Mobile -->
				<p class="hidden md:block text-sm text-gray-500 font-normal mt-0.5" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
					{% if lang == 'uz' %}60+ universitet Turkiya, Kipr, Gruziya va Malayziyadan{% elif lang == 'ru' %}60+ университетов из Турции, Кипра, Грузии и Малайзии{% elif lang == 'tr' %}Türkiye, Kıbrıs, Gürcistan ve Malezya'dan 60+ üniversite{% else %}60+ universities from Turkey, Cyprus, Georgia and Malaysia{% endif %}
				</p>
			</div>
			
			<!-- Search and Filter Bar - Mobile: Below Title, Desktop: Side by side with Title -->
			<div class="flex items-center gap-3 md:flex-shrink-0 md:w-auto">
				<!-- Search Input - Full Border Radius -->
				<div class="flex-1 md:flex-shrink-0 md:w-64 relative">
					<input type="text" id="searchInput" placeholder="{% if lang == 'uz' %}Qidirish...{% elif lang == 'ru' %}Поиск...{% elif lang == 'tr' %}Ara...{% else %}Search...{% endif %}" class="w-full px-4 py-2.5 pl-11 bg-gray-50 border border-gray-200 rounded-full text-sm text-gray-900 font-normal focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
					<img src="/static/search-normal.svg" alt="Search" class="absolute left-3.5 top-1/2 transform -translate-y-1/2 w-4 h-4">
				</div>
				
				<!-- Filter Button -->
				<button id="filterBtn" class="px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-full text-sm text-gray-900 font-normal hover:bg-gray-100 transition-all flex items-center gap-2 flex-shrink-0" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
					<img src="/static/filter-search.svg" alt="Filter" class="w-4 h-4">
					<span class="hidden md:inline">{% if lang == 'uz' %}Filter{% elif lang == 'ru' %}Фильтр{% elif lang == 'tr' %}Filtre{% else %}Filter{% endif %}</span>
				</button>
			</div>
		</div>
		
		<!-- Filter Panel (Hidden by default) -->
		<div id="filterPanel" class="hidden mt-4 bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden">
			<div class="p-4 md:p-6">
				<!-- Filter Header -->
				<div class="flex items-center justify-between mb-4">
					<h3 class="text-lg font-semibold text-gray-900" style="font-family: 'Inter', sans-serif;">
						{% if lang == 'uz' %}Filterlar{% elif lang == 'ru' %}Фильтры{% elif lang == 'tr' %}Filtreler{% else %}Filters{% endif %}
					</h3>
					<button id="clearFilters" class="text-sm text-blue-600 hover:text-blue-700 font-medium" style="font-family: 'Inter', sans-serif;">
						{% if lang == 'uz' %}Tozalash{% elif lang == 'ru' %}Очистить{% elif lang == 'tr' %}Temizle{% else %}Clear{% endif %}
					</button>
				</div>
				
				<!-- Filter Grid -->
				<div class="space-y-4">
					<!-- A. Davlat bo'yicha filtr -->
					<div class="filter-group">
						<label class="filter-label">{% if lang == 'uz' %}Davlat{% elif lang == 'ru' %}Страна{% elif lang == 'tr' %}Ülke{% else %}Country{% endif %}</label>
						<div class="filter-options">
							<button class="filter-chip active" data-filter="country" data-value="">{% if lang == 'uz' %}Barcha{% elif lang == 'ru' %}Все{% elif lang == 'tr' %}Tümü{% else %}All{% endif %}</button>
							<button class="filter-chip" data-filter="country" data-value="Turkey">{% if lang == 'uz' %}Turkiya{% elif lang == 'ru' %}Турция{% elif lang == 'tr' %}Türkiye{% else %}Turkey{% endif %}</button>
							<button class="filter-chip" data-filter="country" data-value="Cyprus">{% if lang == 'uz' %}Kipr{% elif lang == 'ru' %}Кипр{% elif lang == 'tr' %}Kıbrıs{% else %}Cyprus{% endif %}</button>
							<button class="filter-chip" data-filter="country" data-value="Georgia">{% if lang == 'uz' %}Gruziya{% elif lang == 'ru' %}Грузия{% elif lang == 'tr' %}Gürcistan{% else %}Georgia{% endif %}</button>
							<button class="filter-chip" data-filter="country" data-value="Malaysia">{% if lang == 'uz' %}Malayziya{% elif lang == 'ru' %}Малайзия{% elif lang == 'tr' %}Malezya{% else %}Malaysia{% endif %}</button>
							<button class="filter-chip" data-filter="country" data-value="Hungary">{% if lang == 'uz' %}Vengriya{% elif lang == 'ru' %}Венгрия{% elif lang == 'tr' %}Macaristan{% else %}Hungary{% endif %}</button>
						</div>
					</div>
					
					<!-- B. Til bo'yicha filtr -->
					<div class="filter-group">
						<label class="filter-label">{% if lang == 'uz' %}Til{% elif lang == 'ru' %}Язык{% elif lang == 'tr' %}Dil{% else %}Language{% endif %}</label>
						<div class="filter-options">
							<button class="filter-chip active" data-filter="language" data-value="">{% if lang == 'uz' %}Barcha{% elif lang == 'ru' %}Все{% elif lang == 'tr' %}Tümü{% else %}All{% endif %}</button>
							<button class="filter-chip" data-filter="language" data-value="English">{% if lang == 'uz' %}Ingliz tili{% elif lang == 'ru' %}Английский{% elif lang == 'tr' %}İngilizce{% else %}English{% endif %}</button>
							<button class="filter-chip" data-filter="language" data-value="Turkish">{% if lang == 'uz' %}Turk tili{% elif lang == 'ru' %}Турецкий{% elif lang == 'tr' %}Türkçe{% else %}Turkish{% endif %}</button>
							<button class="filter-chip" data-filter="language" data-value="Russian">{% if lang == 'uz' %}Rus tili{% elif lang == 'ru' %}Русский{% elif lang == 'tr' %}Rusça{% else %}Russian{% endif %}</button>
						</div>
					</div>
					
					<!-- C. Yo'nalish bo'yicha filtr -->
					<div class="filter-group">
						<label class="filter-label">{% if lang == 'uz' %}Yo'nalish{% elif lang == 'ru' %}Направление{% elif lang == 'tr' %}Bölüm{% else %}Major{% endif %}</label>
						<div class="filter-options">
							<button class="filter-chip active" data-filter="major" data-value="">{% if lang == 'uz' %}Barcha{% elif lang == 'ru' %}Все{% elif lang == 'tr' %}Tümü{% else %}All{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Medicine">{% if lang == 'uz' %}Tibbiyot{% elif lang == 'ru' %}Медицина{% elif lang == 'tr' %}Tıp{% else %}Medicine{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Dentistry">{% if lang == 'uz' %}Stomatologiya{% elif lang == 'ru' %}Стоматология{% elif lang == 'tr' %}Diş Hekimliği{% else %}Dentistry{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Computer Engineering">{% if lang == 'uz' %}Kompyuter injiniringi{% elif lang == 'ru' %}Компьютерная инженерия{% elif lang == 'tr' %}Bilgisayar Mühendisliği{% else %}Computer Engineering{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Business">{% if lang == 'uz' %}Biznes boshqaruvi{% elif lang == 'ru' %}Бизнес-менеджмент{% elif lang == 'tr' %}İşletme Yönetimi{% else %}Business Management{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Psychology">{% if lang == 'uz' %}Psixologiya{% elif lang == 'ru' %}Психология{% elif lang == 'tr' %}Psikoloji{% else %}Psychology{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="International Relations">{% if lang == 'uz' %}Xalqaro munosabatlar{% elif lang == 'ru' %}Международные отношения{% elif lang == 'tr' %}Uluslararası İlişkiler{% else %}International Relations{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Finance">{% if lang == 'uz' %}Moliya{% elif lang == 'ru' %}Финансы{% elif lang == 'tr' %}Finans{% else %}Finance{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Design">{% if lang == 'uz' %}Dizayn{% elif lang == 'ru' %}Дизайн{% elif lang == 'tr' %}Tasarım{% else %}Design{% endif %}</button>
							<button class="filter-chip" data-filter="major" data-value="Architecture">{% if lang == 'uz' %}Arxitektura{% elif lang == 'ru' %}Архитектура{% elif lang == 'tr' %}Mimarlık{% else %}Architecture{% endif %}</button>
						</div>
					</div>
					
					<!-- D. Narx diapazoni bo'yicha filtr -->
					<div class="filter-group">
						<label class="filter-label">{% if lang == 'uz' %}Narx diapazoni{% elif lang == 'ru' %}Ценовой диапазон{% elif lang == 'tr' %}Fiyat aralığı{% else %}Price Range{% endif %}</label>
						<div class="filter-options">
							<button class="filter-chip active" data-filter="price" data-value="">{% if lang == 'uz' %}Barcha{% elif lang == 'ru' %}Все{% elif lang == 'tr' %}Tümü{% else %}All{% endif %}</button>
							<button class="filter-chip" data-filter="price" data-value="1500-3000">1500$ - 3000$</button>
							<button class="filter-chip" data-filter="price" data-value="3000-5000">3000$ - 5000$</button>
							<button class="filter-chip" data-filter="price" data-value="5000+">5000$+</button>
						</div>
					</div>
					
					<!-- E. Grant / Chegirma filtr -->
					<div class="filter-group">
						<label class="filter-label">{% if lang == 'uz' %}Grant / Chegirma{% elif lang == 'ru' %}Грант / Скидка{% elif lang == 'tr' %}Burs / İndirim{% else %}Grant / Discount{% endif %}</label>
						<div class="filter-options">
							<button class="filter-chip active" data-filter="grant" data-value="">{% if lang == 'uz' %}Barcha{% elif lang == 'ru' %}Все{% elif lang == 'tr' %}Tümü{% else %}All{% endif %}</button>
							<button class="filter-chip" data-filter="grant" data-value="discount">{% if lang == 'uz' %}Chegirma mavjud{% elif lang == 'ru' %}Есть скидка{% elif lang == 'tr' %}İndirim var{% else %}Discount available{% endif %}</button>
							<button class="filter-chip" data-filter="grant" data-value="guarantee">{% if lang == 'uz' %}Qabul kafolati bor{% elif lang == 'ru' %}Есть гарантия приема{% elif lang == 'tr' %}Kabul garantisi var{% else %}Admission guarantee{% endif %}</button>
							<button class="filter-chip" data-filter="grant" data-value="all-inclusive">{% if lang == 'uz' %}All-inclusive paket{% elif lang == 'ru' %}All-inclusive пакет{% elif lang == 'tr' %}All-inclusive paket{% else %}All-inclusive package{% endif %}</button>
						</div>
					</div>
					
					<!-- F. Shahar bo'yicha filtr -->
					<div class="filter-group">
						<label class="filter-label">{% if lang == 'uz' %}Shahar (ixtiyoriy){% elif lang == 'ru' %}Город (опционально){% elif lang == 'tr' %}Şehir (opsiyonel){% else %}City (optional){% endif %}</label>
						<div class="filter-options">
							<button class="filter-chip active" data-filter="city" data-value="">{% if lang == 'uz' %}Barcha{% elif lang == 'ru' %}Все{% elif lang == 'tr' %}Tümü{% else %}All{% endif %}</button>
							<button class="filter-chip" data-filter="city" data-value="Istanbul">Istanbul</button>
							<button class="filter-chip" data-filter="city" data-value="Ankara">Ankara</button>
							<button class="filter-chip" data-filter="city" data-value="Izmir">Izmir</button>
							<button class="filter-chip" data-filter="city" data-value="Antalya">Antalya</button>
							<button class="filter-chip" data-filter="city" data-value="Nicosia">Nicosia</button>
							<button class="filter-chip" data-filter="city" data-value="Tbilisi">Tbilisi</button>
							<button class="filter-chip" data-filter="city" data-value="Kuala Lumpur">Kuala Lumpur</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Top Universities - Minimalistic Grid (no swiper) -->
<section class="py-16 bg-white">
	<div class="max-w-7xl mx-auto px-6">
		<h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2 text-center" style="font-family: 'Inter', sans-serif; letter-spacing: -0.02em;">
			{% if lang == 'uz' %}Top <span class="text-blue-600">Universitetlar</span>{% elif lang == 'ru' %}Топ <span class="text-blue-600">университеты</span>{% elif lang == 'tr' %}En İyi <span class="text-blue-600">Üniversiteler</span>{% else %}Top <span class="text-blue-600">Universities</span>{% endif %}
		</h2>
		<p class="text-gray-600 text-center mb-10 max-w-2xl mx-auto text-sm md:text-base" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
			{% if lang == 'uz' %}Turkiyaning eng yaxshi universitetlarida o'qish imkoniyati{% elif lang == 'ru' %}Возможность учиться в лучших университетах Турции{% elif lang == 'tr' %}Türkiye'nin en iyi üniversitelerinde eğitim fırsatı{% else %}Opportunity to study at Turkey's best universities{% endif %}
		</p>
		
		{% if top_universities %}
		<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8">
			{% for university in top_universities %}
			<div class="bg-white rounded-3xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-lg transition-all duration-200 flex flex-col h-full group js-university-card" data-university-id="{{ university.id }}" data-university-name="{% if lang == 'uz' %}{{ university.name_uz }}{% elif lang == 'ru' %}{{ university.name_ru }}{% elif lang == 'tr' %}{{ university.name_tr }}{% else %}{{ university.name_en }}{% endif %}" data-university-city="{% if lang == 'uz' %}{{ university.city_uz }}{% elif lang == 'ru' %}{{ university.city_ru }}{% elif lang == 'tr' %}{{ university.city_tr }}{% else %}{{ university.city_en }}{% endif %}" data-university-country="{% if lang == 'uz' %}{{ university.country_uz }}{% elif lang == 'ru' %}{{ university.country_ru }}{% elif lang == 'tr' %}{{ university.country_tr }}{% else %}{{ university.country_en }}{% endif %}" data-university-fee-min="{{ university.tuition_fee_min }}" data-university-fee-max="{{ university.tuition_fee_max }}" data-university-lang="{{ university.language_requirements or '' }}" data-university-type="{{ university.university_type or '' }}" data-university-accommodation="{{ 'yes' if university.accommodation_available else 'no' }}" data-university-founded="{{ university.founded_year or '' }}" data-university-students="{{ university.student_count or '' }}" data-university-scholarship="{{ 'yes' if university.scholarship_available else 'no' }}" data-country="{% if lang == 'uz' %}{{ university.country_uz }}{% elif lang == 'ru' %}{{ university.country_ru }}{% elif lang == 'tr' %}{{ university.country_tr }}{% else %}{{ university.country_en }}{% endif %}">
				<!-- Full cover image with overlayed info -->
				<div class="relative h-52 sm:h-56 lg:h-60">
					{% if university.cover_image_url %}
					<img src="{{ url_for('static', filename=university.cover_image_url) }}" alt="{% if lang == 'uz' %}{{ university.name_uz }}{% elif lang == 'ru' %}{{ university.name_ru }}{% elif lang == 'tr' %}{{ university.name_tr }}{% else %}{{ university.name_en }}{% endif %}" class="w-full h-full object-cover transform group-hover:scale-[1.03] transition-transform duration-300">
					{% elif university.logo_url %}
					<img src="{{ url_for('static', filename=university.logo_url) }}" alt="{% if lang == 'uz' %}{{ university.name_uz }}{% elif lang == 'ru' %}{{ university.name_ru }}{% elif lang == 'tr' %}{{ university.name_tr }}{% else %}{{ university.name_en }}{% endif %}" class="w-full h-full object-cover transform group-hover:scale-[1.03] transition-transform duration-300">
					{% else %}
					<div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-600">
						<span class="text-5xl md:text-6xl text-white font-semibold">
							{% if lang == 'uz' %}{{ university.name_uz[0] if university.name_uz else 'U' }}{% elif lang == 'ru' %}{{ university.name_ru[0] if university.name_ru else 'U' }}{% elif lang == 'tr' %}{{ university.name_tr[0] if university.name_tr else 'U' }}{% else %}{{ university.name_en[0] if university.name_en else 'U' }}{% endif %}
						</span>
			</div>
					{% endif %}
					
					<!-- Dark gradient overlay -->
					<div class="absolute inset-0 bg-gradient-to-t from-black/75 via-black/25 to-transparent"></div>
					
					<!-- Top tags -->
					<div class="absolute top-3 left-3 right-3 flex items-center justify-between gap-2 text-[11px] sm:text-xs">
						{% if university.university_type %}
						<span class="inline-flex items-center px-2.5 py-1 rounded-full bg-white/90 text-gray-900 font-medium shadow-sm" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							{% if university.university_type == 'Private' %}
								{% if lang == 'tr' %}Vakıf{% elif lang == 'uz' %}Xususiy{% elif lang == 'ru' %}Частный{% else %}Private{% endif %}
							{% else %}
								{% if lang == 'tr' %}Devlet{% elif lang == 'uz' %}Davlat{% elif lang == 'ru' %}Государственный{% else %}Public{% endif %}
							{% endif %}
						</span>
						{% else %}
						<span></span>
						{% endif %}
						
						{% if university.accommodation_available %}
						<span class="inline-flex items-center px-2.5 py-1 rounded-full bg-blue-500 text-white font-medium shadow-sm" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							{% if lang == 'uz' %}Yotoqxona{% elif lang == 'ru' %}Общежитие{% elif lang == 'tr' %}Yurt{% else %}Dormitory{% endif %}
						</span>
						{% endif %}
			</div>
					
					<!-- Bottom info -->
					<div class="absolute bottom-3 left-3 right-3 text-white">
						<h3 class="text-sm sm:text-base font-semibold leading-snug mb-1 line-clamp-2" style="font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							{% if lang == 'uz' %}{{ university.name_uz }}{% elif lang == 'ru' %}{{ university.name_ru }}{% elif lang == 'tr' %}{{ university.name_tr }}{% else %}{{ university.name_en }}{% endif %}
						</h3>
						<p class="flex items-center gap-1 text-[11px] sm:text-xs text-white/90 mb-1" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="flex-shrink-0">
								<path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z"/>
								<circle cx="12" cy="10" r="3"/>
							</svg>
							<span>
								{% if lang == 'uz' %}{{ university.city_uz }}, {{ university.country_uz }}{% elif lang == 'ru' %}{{ university.city_ru }}, {{ university.country_ru }}{% elif lang == 'tr' %}{{ university.city_tr }}, {{ university.country_tr }}{% else %}{{ university.city_en }}, {{ university.country_en }}{% endif %}
							</span>
						</p>
						<div class="flex items-center justify-between text-[11px] sm:text-xs text-white/80">
							{% if university.founded_year %}
							<div class="flex items-center gap-1">
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
									<circle cx="12" cy="12" r="10"/>
									<polyline points="12 6 12 12 16 14"/>
								</svg>
								<span>{{ university.founded_year }}</span>
			</div>
							{% endif %}
							{% if university.student_count %}
							<div class="flex items-center gap-1 ml-auto">
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
									<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
									<circle cx="9" cy="7" r="4"/>
									<path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
									<path d="M16 3.13a4 4 0 0 1 0 7.75"/>
								</svg>
								<span>{{ university.student_count }}+</span>
			</div>
							{% endif %}
		</div>
					</div>
				</div>
				
				<!-- Bottom content & CTA -->
				<div class="p-4 sm:p-5 flex flex-col gap-2">
					{% if university.tuition_fee_min and university.tuition_fee_max %}
					<div>
						<p class="text-sm font-semibold text-gray-900 leading-tight" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							{{ university.tuition_fee_min }}$ - {{ university.tuition_fee_max }}$
						</p>
						<p class="text-xs text-gray-500" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							{% if lang == 'uz' %}yillik o'qish to'lovi{% elif lang == 'ru' %}стоимость за год{% elif lang == 'tr' %}yıllık eğitim ücreti{% else %}annual tuition fee{% endif %}
						</p>
					</div>
					{% elif university.scholarship_available %}
					<p class="inline-flex items-center gap-1.5 text-xs font-medium text-yellow-700 bg-yellow-50 border border-yellow-100 rounded-full px-3 py-1 w-max" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
							<path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
						</svg>
						{% if lang == 'uz' %}Chegirma va grantlar mavjud{% elif lang == 'ru' %}Доступны скидки и гранты{% elif lang == 'tr' %}Burs ve indirimler mevcut{% else %}Scholarships and discounts available{% endif %}
					</p>
					{% endif %}
					
					<a href="{{ url_for('contact') }}?university={{ university.id }}&lang={{ lang }}" class="mt-2 inline-flex items-center justify-center w-full px-4 py-2.5 rounded-full text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors duration-200" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'tr' %}Hemen Başvur{% elif lang == 'uz' %}Hozir ariza topshirish{% elif lang == 'ru' %}Подать заявку сейчас{% else %}Apply now{% endif %}
					</a>
				</div>
			</div>
			{% endfor %}
		</div>
		{% endif %}
	</div>
</section>

<!-- Sticky Categories Section -->
<section class="sticky-categories py-4 bg-white">
	<div class="max-w-7xl mx-auto px-6">
		<div class="swiper small-swiper">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<button class="category-btn px-4 py-2 bg-blue-50 text-blue-600 rounded-full text-xs font-normal text-center transition-all hover:bg-blue-100 active" data-country="" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Barcha{% elif lang == 'ru' %}Все{% elif lang == 'tr' %}Tümü{% else %}All{% endif %}
					</button>
				</div>
				<div class="swiper-slide">
					<button class="category-btn px-4 py-2 bg-gray-50 text-gray-600 rounded-full text-xs font-normal text-center transition-all hover:bg-gray-100" data-country="Turkey" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Turkiya{% elif lang == 'ru' %}Турция{% elif lang == 'tr' %}Türkiye{% else %}Turkey{% endif %}
					</button>
				</div>
				<div class="swiper-slide">
					<button class="category-btn px-4 py-2 bg-gray-50 text-gray-600 rounded-full text-xs font-normal text-center transition-all hover:bg-gray-100" data-country="Cyprus" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Kipr{% elif lang == 'ru' %}Кипр{% elif lang == 'tr' %}Kıbrıs{% else %}Cyprus{% endif %}
					</button>
				</div>
				<div class="swiper-slide">
					<button class="category-btn px-4 py-2 bg-gray-50 text-gray-600 rounded-full text-xs font-normal text-center transition-all hover:bg-gray-100" data-country="Georgia" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Gruziya{% elif lang == 'ru' %}Грузия{% elif lang == 'tr' %}Gürcistan{% else %}Georgia{% endif %}
					</button>
				</div>
				<div class="swiper-slide">
					<button class="category-btn px-4 py-2 bg-gray-50 text-gray-600 rounded-full text-xs font-normal text-center transition-all hover:bg-gray-100" data-country="Malaysia" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Malayziya{% elif lang == 'ru' %}Малайзия{% elif lang == 'tr' %}Malezya{% else %}Malaysia{% endif %}
					</button>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- University Cards Section -->
<section class="py-8 bg-white">
	<div class="max-w-7xl mx-auto px-6">
		<div class="mb-6">
			<p class="text-sm text-gray-600 font-normal" id="resultsCount" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
				<span id="countNumber">{{ universities|length }}</span> {% if lang == 'uz' %}universitet topildi{% elif lang == 'ru' %}университетов найдено{% elif lang == 'tr' %}üniversite bulundu{% else %}universities found{% endif %}
			</p>
		</div>
		
		<div id="universitiesGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6">
			{% for university in universities %}
			<div
				class="university-card bg-white rounded-3xl overflow-hidden border border-gray-200 hover:shadow-lg transition-all duration-200 flex flex-col h-full group js-university-card"
				data-university-id="{{ university.id }}"
				data-university-name="{% if lang == 'uz' %}{{ university.name_uz }}{% elif lang == 'ru' %}{{ university.name_ru }}{% elif lang == 'tr' %}{{ university.name_tr }}{% else %}{{ university.name_en }}{% endif %}"
				data-university-city="{% if lang == 'uz' %}{{ university.city_uz }}{% elif lang == 'ru' %}{{ university.city_ru }}{% elif lang == 'tr' %}{{ university.city_tr }}{% else %}{{ university.city_en }}{% endif %}"
				data-university-country="{% if lang == 'uz' %}{{ university.country_uz }}{% elif lang == 'ru' %}{{ university.country_ru }}{% elif lang == 'tr' %}{{ university.country_tr }}{% else %}{{ university.country_en }}{% endif %}"
				data-university-fee-min="{{ university.tuition_fee_min or '' }}"
				data-university-fee-max="{{ university.tuition_fee_max or '' }}"
				data-university-lang="{{ university.language_requirements or '' }}"
				data-country="{% if lang == 'uz' %}{{ university.country_uz }}{% elif lang == 'ru' %}{{ university.country_ru }}{% elif lang == 'tr' %}{{ university.country_tr }}{% else %}{{ university.country_en }}{% endif %}"
			>
				<!-- To'liq rasm + overlay -->
				<div class="relative h-52 sm:h-56 lg:h-60">
					{% if university.cover_image_url %}
					<img src="{{ url_for('static', filename=university.cover_image_url) }}" alt="{{ university.name_uz }}" class="w-full h-full object-cover transform group-hover:scale-[1.03] transition-transform duration-300">
					{% elif university.logo_url %}
					<img src="{{ url_for('static', filename=university.logo_url) }}" alt="{{ university.name_uz }}" class="w-full h-full object-cover transform group-hover:scale-[1.03] transition-transform duration-300">
					{% else %}
					<div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-indigo-600">
						<span class="text-5xl md:text-6xl text-white font-semibold">
							{{ university.name_uz[0] if university.name_uz else 'U' }}
						</span>
					</div>
					{% endif %}
					
					<!-- Qoraytirilgan gradient -->
					<div class="absolute inset-0 bg-gradient-to-t from-black/75 via-black/25 to-transparent"></div>
					
					<!-- Yuqori teglari -->
					<div class="absolute top-3 left-3 right-3 flex items-center justify-between gap-2 text-[11px] sm:text-xs">
						{% if university.university_type %}
						<span class="inline-flex items-center px-2.5 py-1 rounded-full bg-white/90 text-gray-900 font-medium shadow-sm" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							{% if university.university_type == 'Private' %}
								{% if lang == 'tr' %}Vakıf{% elif lang == 'uz' %}Xususiy{% elif lang == 'ru' %}Частный{% else %}Private{% endif %}
							{% else %}
								{% if lang == 'tr' %}Devlet{% elif lang == 'uz' %}Davlat{% elif lang == 'ru' %}Государственный{% else %}Public{% endif %}
							{% endif %}
						</span>
						{% else %}
						<span></span>
						{% endif %}
						
						{% if university.accommodation_available %}
						<span class="inline-flex items-center px-2.5 py-1 rounded-full bg-blue-500 text-white font-medium shadow-sm" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							{% if lang == 'uz' %}Yotoqxona{% elif lang == 'ru' %}Общежитие{% elif lang == 'tr' %}Yurt{% else %}Dormitory{% endif %}
						</span>
						{% endif %}
				</div>
				
					<!-- Bottom info (hamma ma'lumot rasm ustida) -->
					<div class="absolute bottom-3 left-3 right-3 text-white">
						<h3 class="text-sm sm:text-base font-semibold leading-snug mb-1 line-clamp-2" style="font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}{{ university.name_uz }}{% elif lang == 'ru' %}{{ university.name_ru }}{% elif lang == 'tr' %}{{ university.name_tr }}{% else %}{{ university.name_en }}{% endif %}
					</h3>
						<p class="flex items-center gap-1 text-[11px] sm:text-xs text-white/90 mb-1 location-text" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
							<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="flex-shrink-0">
								<path d="M21 10c0 7-9 13-9 13S3 17 3 10a9 9 0 0 1 18 0z"/>
							<circle cx="12" cy="10" r="3"/>
						</svg>
							<span>
								{% if lang == 'uz' %}{{ university.city_uz }}, {{ university.country_uz }}{% elif lang == 'ru' %}{{ university.city_ru }}, {{ university.country_ru }}{% elif lang == 'tr' %}{{ university.city_tr }}, {{ university.country_tr }}{% else %}{{ university.city_en }}, {{ university.country_en }}{% endif %}
							</span>
						</p>
						<div class="flex items-center justify-between text-[11px] sm:text-xs text-white/80 mb-1.5">
							{% if university.founded_year %}
							<div class="flex items-center gap-1">
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
									<circle cx="12" cy="12" r="10"/>
									<polyline points="12 6 12 12 16 14"/>
								</svg>
								<span>{{ university.founded_year }}</span>
					</div>
						{% endif %}
							{% if university.student_count %}
							<div class="flex items-center gap-1 ml-auto">
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
									<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
									<circle cx="9" cy="7" r="4"/>
									<path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
									<path d="M16 3.13a4 4 0 0 1 0 7.75"/>
								</svg>
								<span>{{ university.student_count }}+</span>
							</div>
						{% endif %}
					</div>
					{% if university.tuition_fee_min and university.tuition_fee_max %}
						<p class="text-[11px] sm:text-xs text-white/90">
							{{ university.tuition_fee_min }}$ - {{ university.tuition_fee_max }}$ · {% if lang == 'uz' %}yillik{% elif lang == 'ru' %}в год{% elif lang == 'tr' %}yıllık{% else %}per year{% endif %}
						</p>
						{% elif university.scholarship_available %}
						<p class="text-[11px] sm:text-xs text-yellow-100">
							{% if lang == 'uz' %}Chegirma mavjud{% elif lang == 'ru' %}Есть скидка{% elif lang == 'tr' %}İndirim var{% else %}Discount available{% endif %}
						</p>
					{% endif %}
					</div>
				</div>
				
				<!-- Pastki kontent: faqat CTA tugma -->
				<div class="p-4 sm:p-5 flex flex-col gap-2">
					<a href="{{ url_for('contact') }}?university={{ university.id }}&lang={{ lang }}" class="inline-flex items-center justify-center w-full px-4 py-2.5 rounded-full text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors duration-200" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'tr' %}Hemen Başvur{% elif lang == 'uz' %}Hozir ariza topshirish{% elif lang == 'ru' %}Подать заявку сейчас{% else %}Apply now{% endif %}
					</a>
				</div>
			</div>
			{% endfor %}
		</div>
		
		<div id="emptyState" class="hidden text-center py-16">
			<svg class="mx-auto w-20 h-20 text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
			</svg>
			<p class="text-lg text-gray-600 font-normal mb-2" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
				{% if lang == 'uz' %}Hech narsa topilmadi{% elif lang == 'ru' %}Ничего не найдено{% elif lang == 'tr' %}Hiçbir şey bulunamadı{% else %}Nothing found{% endif %}
			</p>
			<p class="text-sm text-gray-500 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
				{% if lang == 'uz' %}Boshqa filterlarni sinab ko'ring{% elif lang == 'ru' %}Попробуйте другие фильтры{% elif lang == 'tr' %}Başka filtreler deneyin{% else %}Try other filters{% endif %}
			</p>
		</div>
	</div>
</section>

<!-- CTA Section -->
<section class="py-20 cta-section relative overflow-hidden gradient-wrapper-cta">
	<div class="cta-wave-container">
		<svg class="cta-wave" viewBox="0 0 1200 120" preserveAspectRatio="none">
			<path d="M0,60 Q300,20 600,60 T1200,60 L1200,120 L0,120 Z" fill="url(#waveGradient)"/>
			<defs>
				<linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
					<stop offset="0%" style="stop-color:rgba(59, 130, 246, 0.12);stop-opacity:1" />
					<stop offset="50%" style="stop-color:rgba(59, 130, 246, 0.18);stop-opacity:1" />
					<stop offset="100%" style="stop-color:rgba(59, 130, 246, 0.12);stop-opacity:1" />
				</linearGradient>
			</defs>
		</svg>
		<svg class="cta-wave cta-wave-delayed" viewBox="0 0 1200 120" preserveAspectRatio="none">
			<path d="M0,60 Q300,40 600,60 T1200,60 L1200,120 L0,120 Z" fill="url(#waveGradient2)"/>
			<defs>
				<linearGradient id="waveGradient2" x1="0%" y1="0%" x2="100%" y2="0%">
					<stop offset="0%" style="stop-color:rgba(96, 165, 250, 0.08);stop-opacity:1" />
					<stop offset="50%" style="stop-color:rgba(96, 165, 250, 0.12);stop-opacity:1" />
					<stop offset="100%" style="stop-color:rgba(96, 165, 250, 0.08);stop-opacity:1" />
				</linearGradient>
			</defs>
		</svg>
	</div>
	<div class="max-w-5xl mx-auto px-4 sm:px-6 text-center relative z-20">
		<h2 class="text-2xl sm:text-3xl md:text-4xl font-medium text-gray-900 mb-3 sm:mb-4 leading-tight" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif; position: relative; z-index: 10;">
			{% if lang == 'uz' %}Qaysi universitet sizga mos? Mutaxassis bilan bepul maslahat oling.{% elif lang == 'ru' %}Какой университет вам подходит? Получите бесплатную консультацию со специалистом.{% elif lang == 'tr' %}Hangi üniversite size uygun? Uzmanla ücretsiz danışmanlık alın.{% else %}Which university suits you? Get free consultation with a specialist.{% endif %}
		</h2>
		<div class="flex flex-col sm:flex-row items-center justify-center gap-3 w-full px-2" style="position: relative; z-index: 10;">
			<a href="https://wa.me/905011571111" target="_blank" class="inline-flex items-center justify-center gap-2 w-full sm:w-auto px-6 sm:px-8 py-3 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors text-sm sm:text-base font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
				<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
					<path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
				</svg>
				{% if lang == 'uz' %}WhatsApp{% elif lang == 'ru' %}WhatsApp{% elif lang == 'tr' %}WhatsApp{% else %}WhatsApp{% endif %}
			</a>
			<a href="https://t.me/studyfans" target="_blank" class="inline-flex items-center justify-center gap-2 w-full sm:w-auto px-6 sm:px-8 py-3 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors text-sm sm:text-base font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
				<svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
					<path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.559z"/>
				</svg>
				{% if lang == 'uz' %}Telegram{% elif lang == 'ru' %}Telegram{% elif lang == 'tr' %}Telegram{% else %}Telegram{% endif %}
			</a>
			<a href="tel:+905011571111" class="inline-flex items-center justify-center gap-2 w-full sm:w-auto px-6 sm:px-8 py-3 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition-colors text-sm sm:text-base font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
				<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
				</svg>
				{% if lang == 'uz' %}Qo'ng'iroq qilish{% elif lang == 'ru' %}Позвонить{% elif lang == 'tr' %}Aramak{% else %}Call{% endif %}
			</a>
		</div>
	</div>
</section>

</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>

// Initialize Small Swiper for Categories
const smallSwiper = new Swiper('.small-swiper', {
	slidesPerView: 'auto',
	spaceBetween: 8,
	freeMode: true,
});

// Filter Panel Toggle
document.getElementById('filterBtn').addEventListener('click', function() {
	const panel = document.getElementById('filterPanel');
	panel.classList.toggle('hidden');
});

// Filter State (Multi-select arrays)
const filterState = {
	country: [],
	language: [],
	major: [],
	price: [],
	grant: [],
	city: []
};

// Search and Filter Function (Multi-select support)
function performSearch() {
	const searchTerm = document.getElementById('searchInput').value.toLowerCase();
	
	// Get active category button country
	const activeCategory = document.querySelector('.category-btn.active');
	const categoryCountry = activeCategory ? activeCategory.getAttribute('data-country') : '';
	
	// Use category country if no filter countries selected
	const filterCountries = filterState.country.length > 0 ? filterState.country : (categoryCountry ? [categoryCountry] : []);
	
	const cards = document.querySelectorAll('.university-card');
	let visibleCount = 0;
	
	cards.forEach(card => {
		const name = card.querySelector('h3').textContent.toLowerCase();
		const cardCountry = card.getAttribute('data-country');
		const cardCity = card.querySelector('.location-text')?.textContent.trim() || '';
		const cardLanguage = card.querySelector('.px-2.5')?.textContent.trim() || '';
		const priceText = card.querySelector('.text-xl')?.textContent || '';
		
		let matches = true;
		
		// Search term
		if (searchTerm && !name.includes(searchTerm)) {
			matches = false;
		}
		
		// Country filter (multi-select)
		if (filterCountries.length > 0 && !filterCountries.includes(cardCountry)) {
			matches = false;
		}
		
		// Language filter (multi-select)
		if (filterState.language.length > 0) {
			const langMap = {
				'English': ['English', 'Ingliz', 'Английский', 'İngilizce'],
				'Turkish': ['Turkish', 'Turk', 'Турецкий', 'Türkçe'],
				'Russian': ['Russian', 'Rus', 'Русский', 'Rusça']
			};
			let langMatch = false;
			for (const selectedLang of filterState.language) {
				const langOptions = langMap[selectedLang] || [];
				if (langOptions.some(lang => cardLanguage.includes(lang))) {
					langMatch = true;
					break;
				}
			}
			if (!langMatch) matches = false;
		}
		
		// City filter (multi-select)
		if (filterState.city.length > 0) {
			let cityMatch = false;
			for (const selectedCity of filterState.city) {
				if (cardCity.toLowerCase().includes(selectedCity.toLowerCase())) {
					cityMatch = true;
					break;
				}
			}
			if (!cityMatch) matches = false;
		}
		
		// Price filter (multi-select)
		if (filterState.price.length > 0) {
			const priceMatch = priceText.match(/(\d+)/g);
			let priceInRange = false;
			
			if (priceMatch && priceMatch.length >= 2) {
				const minPrice = parseInt(priceMatch[0]);
				const maxPrice = parseInt(priceMatch[1]);
				
				for (const range of filterState.price) {
					if (range === '1500-3000' && minPrice >= 1500 && maxPrice <= 3000) {
						priceInRange = true;
						break;
					} else if (range === '3000-5000' && minPrice >= 3000 && maxPrice <= 5000) {
						priceInRange = true;
						break;
					} else if (range === '5000+' && minPrice >= 5000) {
						priceInRange = true;
						break;
					}
				}
			}
			if (!priceInRange) matches = false;
		}
		
		// Grant filter (multi-select)
		if (filterState.grant.length > 0) {
			const hasGrant = card.querySelector('.bg-yellow-50') !== null;
			if (filterState.grant.includes('discount') && !hasGrant) {
				matches = false;
			}
		}
		
		if (matches) {
			card.style.display = 'block';
			visibleCount++;
		} else {
			card.style.display = 'none';
		}
	});
	
	document.getElementById('countNumber').textContent = visibleCount;
	
	const emptyState = document.getElementById('emptyState');
	if (visibleCount === 0) {
		emptyState.classList.remove('hidden');
	} else {
		emptyState.classList.add('hidden');
	}
}

// Filter Chip Click Handler (Multi-select)
document.querySelectorAll('.filter-chip').forEach(chip => {
	chip.addEventListener('click', function() {
		const filterType = this.getAttribute('data-filter');
		const filterValue = this.getAttribute('data-value');
		
		// "Barcha" (All) button - clears all selections in this group
		if (!filterValue) {
			filterState[filterType] = [];
			const siblings = document.querySelectorAll(`[data-filter="${filterType}"]`);
			siblings.forEach(s => s.classList.remove('active'));
			this.classList.add('active');
		} else {
			// Remove "Barcha" active state
			const allBtn = document.querySelector(`[data-filter="${filterType}"][data-value=""]`);
			if (allBtn) allBtn.classList.remove('active');
			
			// Toggle this chip
			if (this.classList.contains('active')) {
				// Remove from array
				this.classList.remove('active');
				const index = filterState[filterType].indexOf(filterValue);
				if (index > -1) {
					filterState[filterType].splice(index, 1);
				}
				// If no filters selected, activate "Barcha"
				if (filterState[filterType].length === 0 && allBtn) {
					allBtn.classList.add('active');
				}
			} else {
				// Add to array
				this.classList.add('active');
				if (!filterState[filterType].includes(filterValue)) {
					filterState[filterType].push(filterValue);
				}
			}
		}
		
		// Update filter count badge
		updateFilterBadge();
		
		performSearch();
	});
});

// Update filter badge count
function updateFilterBadge() {
	const totalFilters = filterState.country.length + filterState.language.length + 
						 filterState.major.length + filterState.price.length + 
						 filterState.grant.length + filterState.city.length;
	
	const filterBtn = document.getElementById('filterBtn');
	let badge = filterBtn.querySelector('.filter-badge');
	
	if (totalFilters > 0) {
		if (!badge) {
			badge = document.createElement('span');
			badge.className = 'filter-badge';
			filterBtn.appendChild(badge);
		}
		badge.textContent = totalFilters;
		badge.style.display = 'flex';
	} else if (badge) {
		badge.style.display = 'none';
	}
}

// Clear Filters
document.getElementById('clearFilters').addEventListener('click', function() {
	filterState.country = [];
	filterState.language = [];
	filterState.major = [];
	filterState.price = [];
	filterState.grant = [];
	filterState.city = [];
	
	document.querySelectorAll('.filter-chip').forEach(chip => {
		chip.classList.remove('active');
		if (chip.getAttribute('data-value') === '') {
			chip.classList.add('active');
		}
	});
	
	// Reset category buttons
	document.querySelectorAll('.category-btn').forEach(btn => {
		btn.classList.remove('active', 'bg-blue-50', 'text-blue-600');
		btn.classList.add('bg-gray-50', 'text-gray-600');
		
		if (btn.getAttribute('data-country') === '') {
			btn.classList.add('active', 'bg-blue-50', 'text-blue-600');
			btn.classList.remove('bg-gray-50', 'text-gray-600');
		}
	});
	
	// Clear search input
	document.getElementById('searchInput').value = '';
	
	// Update badge
	updateFilterBadge();
	
	performSearch();
});

document.getElementById('searchInput').addEventListener('input', performSearch);

// Category Buttons Functionality
document.querySelectorAll('.category-btn').forEach(btn => {
	btn.addEventListener('click', function() {
		// Remove active class from all buttons
		document.querySelectorAll('.category-btn').forEach(b => {
			b.classList.remove('active', 'bg-blue-50', 'text-blue-600');
			b.classList.add('bg-gray-50', 'text-gray-600');
		});
		
		// Add active class to clicked button
		this.classList.add('active', 'bg-blue-50', 'text-blue-600');
		this.classList.remove('bg-gray-50', 'text-gray-600');
		
		// Update country filter chip if category has country
		const categoryCountry = this.getAttribute('data-country');
		if (categoryCountry) {
			// Update filter state (single selection from category buttons)
			filterState.country = [categoryCountry];
			
			// Update filter chips
			document.querySelectorAll('[data-filter="country"]').forEach(chip => {
				chip.classList.remove('active');
				if (chip.getAttribute('data-value') === categoryCountry) {
					chip.classList.add('active');
				}
			});
		} else {
			// Reset country filter
			filterState.country = [];
			document.querySelectorAll('[data-filter="country"]').forEach(chip => {
				chip.classList.remove('active');
				if (chip.getAttribute('data-value') === '') {
					chip.classList.add('active');
				}
			});
		}
		
		// Update badge
		updateFilterBadge();
		
		// Perform search with category filter
		performSearch();
	});
});
	
	// Bottom Sheet for University Cards (Mobile)
	document.addEventListener('DOMContentLoaded', function() {
		const universityCards = document.querySelectorAll('.js-university-card');
		const bottomSheet = document.getElementById('universityBottomSheet');
		const bottomSheetOverlay = document.getElementById('universityBottomSheetOverlay');
		const bottomSheetClose = document.getElementById('universityBottomSheetClose');
		
		async function openBottomSheet(card) {
			const name = card.getAttribute('data-university-name');
			const city = card.getAttribute('data-university-city');
			const country = card.getAttribute('data-university-country');
			const feeMin = card.getAttribute('data-university-fee-min');
			const feeMax = card.getAttribute('data-university-fee-max');
			const lang = card.getAttribute('data-university-lang') || 'English, Turkish';
			const universityId = card.getAttribute('data-university-id');
			const langParam = new URLSearchParams(window.location.search).get('lang') || 'uz';
			const foundedYear = card.getAttribute('data-university-founded');
			const studentCount = card.getAttribute('data-university-students');
			const scholarship = card.getAttribute('data-university-scholarship');
			const accommodation = card.getAttribute('data-university-accommodation');
			const universityType = card.getAttribute('data-university-type');
			
			// Populate basic info
			document.getElementById('bottomSheetUniversityName').textContent = name;
			document.getElementById('bottomSheetUniversityLocation').textContent = `${city}, ${country}`;
			document.getElementById('bottomSheetUniversityLang').textContent = lang;
			
			// Clear badges
			const badgesContainer = document.getElementById('bottomSheetUniversityBadges');
			if (badgesContainer) {
				badgesContainer.innerHTML = '';
			}
			
			// Price
			if (feeMin && feeMax) {
				document.getElementById('bottomSheetUniversityPrice').textContent = `${feeMin}$ - ${feeMax}$`;
				document.getElementById('bottomSheetUniversityPrice').classList.remove('hidden');
			} else {
				document.getElementById('bottomSheetUniversityPrice').classList.add('hidden');
			}
			
			// Statistics
			const statsContainer = document.getElementById('bottomSheetUniversityStats');
			statsContainer.innerHTML = '';
			if (foundedYear) {
				const statDiv = document.createElement('div');
				statDiv.className = 'text-center';
				statDiv.innerHTML = `
					<p class="text-2xl font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">${foundedYear}</p>
					<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Asos solingan{% elif lang == 'ru' %}Основан{% elif lang == 'tr' %}Kuruluş{% else %}Founded{% endif %}
					</p>
				`;
				statsContainer.appendChild(statDiv);
			}
			if (studentCount) {
				const statDiv = document.createElement('div');
				statDiv.className = 'text-center';
				statDiv.innerHTML = `
					<p class="text-2xl font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">${studentCount}</p>
					<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Talabalar{% elif lang == 'ru' %}Студенты{% elif lang == 'tr' %}Öğrenci{% else %}Students{% endif %}
					</p>
				`;
				statsContainer.appendChild(statDiv);
			}
			if (scholarship === 'yes') {
				const statDiv = document.createElement('div');
				statDiv.className = 'text-center';
				statDiv.innerHTML = `
					<p class="text-2xl font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">✓</p>
					<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Grant mavjud{% elif lang == 'ru' %}Грант доступен{% elif lang == 'tr' %}Burs mevcut{% else %}Scholarship{% endif %}
					</p>
				`;
				statsContainer.appendChild(statDiv);
			}
			if (accommodation === 'yes') {
				const statDiv = document.createElement('div');
				statDiv.className = 'text-center';
				statDiv.innerHTML = `
					<p class="text-2xl font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">✓</p>
					<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Yotoqxona{% elif lang == 'ru' %}Общежитие{% elif lang == 'tr' %}Yurt{% else %}Accommodation{% endif %}
					</p>
				`;
				statsContainer.appendChild(statDiv);
			}
			
			// Load full details via API
			try {
				const response = await fetch(`/api/university/${universityId}?lang=${langParam}`);
				if (response.ok) {
					const data = await response.json();
					
					// Logo
					const logoContainer = document.getElementById('bottomSheetUniversityLogo');
					if (data.logo_url && logoContainer) {
						const logoImg = logoContainer.querySelector('img');
						if (logoImg) {
							logoImg.src = `/static/${data.logo_url}`;
							logoImg.alt = name;
							logoContainer.classList.remove('hidden');
						}
					} else if (logoContainer) {
						logoContainer.classList.add('hidden');
					}
					
					// Badges (ranking, type)
					const badgesContainer = document.getElementById('bottomSheetUniversityBadges');
					if (badgesContainer) {
						badgesContainer.innerHTML = '';
						if (data.ranking) {
							const badge = document.createElement('span');
							badge.className = 'text-xs px-2.5 py-1 bg-blue-50 text-blue-700 rounded-full font-normal';
							badge.textContent = `#${data.ranking}`;
							badgesContainer.appendChild(badge);
						}
						if (data.university_type) {
							const badge = document.createElement('span');
							badge.className = 'text-xs px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full font-normal';
							badge.textContent = data.university_type === 'Private' 
								? (langParam === 'tr' ? 'Vakıf' : langParam === 'uz' ? 'Xususiy' : langParam === 'ru' ? 'Частный' : 'Private')
								: (langParam === 'tr' ? 'Devlet' : langParam === 'uz' ? 'Davlat' : langParam === 'ru' ? 'Государственный' : 'Public');
							badgesContainer.appendChild(badge);
						}
					}
					
					// Description
					const descContainer = document.getElementById('bottomSheetUniversityDescription');
					const descSection = document.getElementById('bottomSheetUniversityDescriptionSection');
					if (data.description && descContainer && descSection) {
						descContainer.textContent = data.description;
						descSection.classList.remove('hidden');
					} else if (descSection) {
						descSection.classList.add('hidden');
					}
					
					// Tuition Fees
					const tuitionSection = document.getElementById('bottomSheetUniversityTuitionSection');
					const tuitionContainer = document.getElementById('bottomSheetUniversityTuition');
					if ((data.tuition_fee_min || data.tuition_fee_max) && tuitionSection && tuitionContainer) {
						tuitionContainer.innerHTML = '';
						const feeText = data.tuition_fee_min && data.tuition_fee_max 
							? `${data.tuition_fee_min}$ - ${data.tuition_fee_max}$`
							: data.tuition_fee_min ? `${data.tuition_fee_min}$+` : `${data.tuition_fee_max}$`;
						
						const degrees = [
							{ name: '{% if lang == "uz" %}Bakalavr{% elif lang == "ru" %}Бакалавр{% elif lang == "tr" %}Lisans{% else %}Bachelor{% endif %}', key: 'bachelor' },
							{ name: '{% if lang == "uz" %}Magistr{% elif lang == "ru" %}Магистр{% elif lang == "tr" %}Yüksek Lisans{% else %}Master{% endif %}', key: 'master' },
							{ name: '{% if lang == "uz" %}Doktorantura{% elif lang == "ru" %}Докторантура{% elif lang == "tr" %}Doktora{% else %}PhD{% endif %}', key: 'phd' }
						];
						
						degrees.forEach(degree => {
							const feeDiv = document.createElement('div');
							feeDiv.className = 'bg-white border border-gray-200 rounded-2xl p-4';
							feeDiv.innerHTML = `
								<h4 class="text-base font-medium text-gray-900 mb-2" style="font-family: 'Inter', sans-serif;">${degree.name}</h4>
								<p class="text-xl font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">${feeText}</p>
								<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
									{% if lang == 'uz' %}yiliga{% elif lang == 'ru' %}в год{% elif lang == 'tr' %}yıllık{% else %}per year{% endif %}
								</p>
							`;
							tuitionContainer.appendChild(feeDiv);
						});
						tuitionSection.classList.remove('hidden');
					} else if (tuitionSection) {
						tuitionSection.classList.add('hidden');
					}
					
					// Programs/Majors
					const programsSection = document.getElementById('bottomSheetUniversityProgramsSection');
					const programsContainer = document.getElementById('bottomSheetUniversityPrograms');
					if (data.courses && data.courses.length > 0 && programsSection && programsContainer) {
						programsContainer.innerHTML = '';
						data.courses.forEach(course => {
							const courseDiv = document.createElement('div');
							courseDiv.className = 'bg-gray-50 border border-gray-200 rounded-xl p-3';
							courseDiv.innerHTML = `
								<div class="flex items-start justify-between gap-2">
									<div class="flex-1">
										<p class="text-sm font-medium text-gray-900 mb-1" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">${course.name || ''}</p>
										<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
											${course.language || ''}
										</p>
									</div>
									${course.tuition_fee ? `<p class="text-sm font-medium text-gray-900" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">${course.tuition_fee}</p>` : ''}
								</div>
							`;
							programsContainer.appendChild(courseDiv);
						});
						programsSection.classList.remove('hidden');
					} else if (programsSection) {
						programsSection.classList.add('hidden');
					}
					
					// Admission Requirements
					const admissionSection = document.getElementById('bottomSheetUniversityAdmissionSection');
					if (admissionSection) {
						// Required Documents (always show)
						const documentsList = document.getElementById('bottomSheetUniversityDocuments');
						if (documentsList) {
							const documents = [
								'{% if lang == "uz" %}Passport nusxasi{% elif lang == "ru" %}Копия паспорта{% elif lang == "tr" %}Pasaport kopyası{% else %}Passport Copy{% endif %}',
								'{% if lang == "uz" %}Diplom yoki attestat nusxasi{% elif lang == "ru" %}Копия диплома или аттестата{% elif lang == "tr" %}Diploma veya lise diploması kopyası{% else %}Diploma or Certificate Copy{% endif %}',
								'{% if lang == "uz" %}Transkript{% elif lang == "ru" %}Транскрипт{% elif lang == "tr" %}Transkript{% else %}Transcript{% endif %}',
								'{% if lang == "uz" %}IELTS yoki boshqa til sertifikati{% elif lang == "ru" %}IELTS или другой языковой сертификат{% elif lang == "tr" %}IELTS veya diğer dil sertifikası{% else %}IELTS or other language certificate{% endif %}',
								'{% if lang == "uz" %}Fotosuratlar{% elif lang == "ru" %}Фотографии{% elif lang == "tr" %}Fotoğraflar{% else %}Photos{% endif %}'
							];
							documentsList.innerHTML = '';
							documents.forEach(doc => {
								const li = document.createElement('li');
								li.className = 'flex items-start gap-2';
								li.innerHTML = `
									<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-gray-400 mt-0.5 flex-shrink-0">
										<polyline points="20 6 9 17 4 12"/>
									</svg>
									<span class="text-sm text-gray-700 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">${doc}</span>
								`;
								documentsList.appendChild(li);
							});
						}
						
						// Language Requirements
						const langReqDiv = document.getElementById('bottomSheetUniversityLanguageReq');
						if (data.language_requirements && langReqDiv) {
							langReqDiv.querySelector('p').textContent = data.language_requirements;
							langReqDiv.classList.remove('hidden');
						} else if (langReqDiv) {
							langReqDiv.classList.add('hidden');
						}
						
						// Admission Process
						const admissionProcessDiv = document.getElementById('bottomSheetUniversityAdmissionProcess');
						if (data.admission_requirements && admissionProcessDiv) {
							admissionProcessDiv.querySelector('p').textContent = data.admission_requirements;
							admissionProcessDiv.classList.remove('hidden');
						} else if (admissionProcessDiv) {
							admissionProcessDiv.classList.add('hidden');
						}
						
						// Application Deadline
						const deadlineDiv = document.getElementById('bottomSheetUniversityDeadline');
						if (data.application_deadline && deadlineDiv) {
							deadlineDiv.querySelector('p').textContent = data.application_deadline;
							deadlineDiv.classList.remove('hidden');
						} else if (deadlineDiv) {
							deadlineDiv.classList.add('hidden');
						}
						
						admissionSection.classList.remove('hidden');
					}
					
					// Location
					const locationSection = document.getElementById('bottomSheetUniversityLocationSection');
					if (locationSection && data.city && data.country) {
						const campusLocation = document.getElementById('bottomSheetUniversityCampusLocation');
						const mapLink = document.getElementById('bottomSheetUniversityMapLink');
						if (campusLocation) {
							campusLocation.textContent = `${data.city}, ${data.country}`;
						}
						if (mapLink) {
							mapLink.href = `https://maps.google.com/?q=${data.city},${data.country}`;
						}
						locationSection.classList.remove('hidden');
					} else if (locationSection) {
						locationSection.classList.add('hidden');
					}
					
					// Advantages
					const advantagesSection = document.getElementById('bottomSheetUniversityAdvantagesSection');
					const advantagesContainer = document.getElementById('bottomSheetUniversityAdvantages');
					if (advantagesSection && advantagesContainer) {
						advantagesContainer.innerHTML = '';
						
						if (data.scholarship_available) {
							const advantageDiv = document.createElement('div');
							advantageDiv.className = 'bg-white border border-gray-200 rounded-2xl p-4';
							advantageDiv.innerHTML = `
								<div class="w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center mb-3">
									<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600">
										<path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/>
									</svg>
								</div>
								<h4 class="text-base font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">
									{% if lang == 'uz' %}Grant imkoniyati{% elif lang == 'ru' %}Возможность получения гранта{% elif lang == 'tr' %}Burs imkanı{% else %}Scholarship Available{% endif %}
								</h4>
								<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
									{% if lang == 'uz' %}Talabalar uchun grant va stipendiya dasturlari{% elif lang == 'ru' %}Программы грантов и стипендий для студентов{% elif lang == 'tr' %}Öğrenciler için burs ve stipend programları{% else %}Grant and scholarship programs for students{% endif %}
								</p>
							`;
							advantagesContainer.appendChild(advantageDiv);
						}
						
						if (data.accommodation_available) {
							const advantageDiv = document.createElement('div');
							advantageDiv.className = 'bg-white border border-gray-200 rounded-2xl p-4';
							advantageDiv.innerHTML = `
								<div class="w-10 h-10 bg-yellow-50 rounded-xl flex items-center justify-center mb-3">
									<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-yellow-600">
										<path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z"/>
										<path d="M9 22V12H15V22"/>
									</svg>
								</div>
								<h4 class="text-base font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">
									{% if lang == 'uz' %}Yotoqxona{% elif lang == 'ru' %}Общежитие{% elif lang == 'tr' %}Yurt{% else %}Accommodation{% endif %}
								</h4>
								<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
									{% if lang == 'uz' %}Talabalar uchun qulay yashash sharoitlari{% elif lang == 'ru' %}Удобные условия проживания для студентов{% elif lang == 'tr' %}Öğrenciler için rahat konaklama koşulları{% else %}Comfortable living conditions for students{% endif %}
								</p>
							`;
							advantagesContainer.appendChild(advantageDiv);
						}
						
						// Always show High Quality
						const advantageDiv = document.createElement('div');
						advantageDiv.className = 'bg-white border border-gray-200 rounded-2xl p-4';
						advantageDiv.innerHTML = `
							<div class="w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center mb-3">
								<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-blue-600">
									<path d="M12 2L2 7L12 12L22 7L12 2Z"/>
									<path d="M2 17L12 22L22 17"/>
									<path d="M2 12L12 17L22 12"/>
								</svg>
							</div>
							<h4 class="text-base font-medium text-gray-900 mb-1" style="font-family: 'Inter', sans-serif;">
								{% if lang == 'uz' %}Yuqori sifat{% elif lang == 'ru' %}Высокое качество{% elif lang == 'tr' %}Yüksek kalite{% else %}High Quality{% endif %}
							</h4>
							<p class="text-xs text-gray-600 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
								{% if lang == 'uz' %}Yuqori sifatli ta'lim va xalqaro tan olinish{% elif lang == 'ru' %}Высококачественное образование и международное признание{% elif lang == 'tr' %}Yüksek kaliteli eğitim ve uluslararası tanınma{% else %}High-quality education and international recognition{% endif %}
							</p>
						`;
						advantagesContainer.appendChild(advantageDiv);
						
						if (advantagesContainer.children.length > 0) {
							advantagesSection.classList.remove('hidden');
						} else {
							advantagesSection.classList.add('hidden');
						}
					}
				}
			} catch (error) {
				console.error('Error loading university details:', error);
				document.getElementById('bottomSheetUniversityDescription')?.parentElement?.classList.add('hidden');
				document.getElementById('bottomSheetUniversityTuitionSection')?.classList.add('hidden');
				document.getElementById('bottomSheetUniversityProgramsSection')?.classList.add('hidden');
				document.getElementById('bottomSheetUniversityAdmissionSection')?.classList.add('hidden');
				document.getElementById('bottomSheetUniversityLocationSection')?.classList.add('hidden');
				document.getElementById('bottomSheetUniversityAdvantagesSection')?.classList.add('hidden');
			}
			
			// Update consultation button link
			const consultationBtn = document.getElementById('bottomSheetConsultationBtn');
			consultationBtn.href = `/contact?university=${universityId}&lang=${langParam}`;
			
			// Hide mobile bottom navigation
			const mobileNav = document.querySelector('nav.fixed.bottom-0');
			if (mobileNav && window.innerWidth <= 768) {
				mobileNav.style.display = 'none';
			}
			
			// Show bottom sheet
			bottomSheet.classList.add('active');
			bottomSheetOverlay.classList.add('active');
			document.body.style.overflow = 'hidden';
		}
		
		function closeBottomSheet() {
			// Show mobile bottom navigation
			const mobileNav = document.querySelector('nav.fixed.bottom-0');
			if (mobileNav && window.innerWidth <= 768) {
				mobileNav.style.display = '';
			}
			
			bottomSheet.classList.remove('active');
			bottomSheetOverlay.classList.remove('active');
			document.body.style.overflow = '';
		}
		
		// Add click handlers to cards
		universityCards.forEach(card => {
			const button = card.querySelector('a[href*="contact"]');
			const universityId = card.getAttribute('data-university-id');
			const langParam = new URLSearchParams(window.location.search).get('lang') || 'uz';
			
			// Prevent card click from triggering when button is clicked
			if (button) {
				button.addEventListener('click', function(e) {
					e.stopPropagation();
				});
			}
			
			// Card click handler
			card.addEventListener('click', function(e) {
				// Don't open if clicking on the button
				if (e.target.closest('a[href*="contact"]')) {
					return;
				}
				
				// Desktop: navigate to detail page
				if (window.innerWidth > 768) {
					window.location.href = `/university/${universityId}?lang=${langParam}`;
				} else {
					// Mobile: open bottom sheet
					e.preventDefault();
					openBottomSheet(card);
				}
			});
		});
		
		// Close handlers
		if (bottomSheetClose) {
			bottomSheetClose.addEventListener('click', closeBottomSheet);
		}
		
		if (bottomSheetOverlay) {
			bottomSheetOverlay.addEventListener('click', closeBottomSheet);
		}
		
		// Close on escape key
		document.addEventListener('keydown', function(e) {
			if (e.key === 'Escape' && bottomSheet.classList.contains('active')) {
				closeBottomSheet();
			}
	});
});
</script>

<!-- Bottom Sheet for University Details (Mobile) -->
<div id="universityBottomSheetOverlay" class="university-bottom-sheet-overlay"></div>
<div id="universityBottomSheet" class="university-bottom-sheet">
	<div class="university-bottom-sheet-header">
		<div class="flex items-center gap-3 flex-1 min-w-0">
			<div id="bottomSheetUniversityLogo" class="w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center p-2 flex-shrink-0 hidden">
				<img src="" alt="" class="w-full h-full object-contain" onerror="this.parentElement.style.display='none';">
			</div>
			<div class="flex-1 min-w-0">
				<h3 id="bottomSheetUniversityName" class="text-lg font-semibold text-gray-900 line-clamp-1" style="font-family: 'Inter', sans-serif;"></h3>
				<div id="bottomSheetUniversityBadges" class="flex items-center gap-2 mt-1"></div>
			</div>
		</div>
		<button id="universityBottomSheetClose" class="university-bottom-sheet-close flex-shrink-0" aria-label="Close">
			<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
				<line x1="18" y1="6" x2="6" y2="18"></line>
				<line x1="6" y1="6" x2="18" y2="18"></line>
			</svg>
		</button>
	</div>
	<div class="university-bottom-sheet-content">
		<div class="space-y-6 pb-4">
			<!-- Basic Info -->
			<div class="space-y-4">
				<div>
					<p class="text-sm text-gray-600 mb-1" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Joylashuvi{% elif lang == 'ru' %}Местоположение{% elif lang == 'tr' %}Konum{% else %}Location{% endif %}
					</p>
					<p id="bottomSheetUniversityLocation" class="text-base font-medium text-gray-900" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
				</div>
				<div>
					<p class="text-sm text-gray-600 mb-1" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}O'qish tili{% elif lang == 'ru' %}Язык обучения{% elif lang == 'tr' %}Eğitim dili{% else %}Language of instruction{% endif %}
					</p>
					<p id="bottomSheetUniversityLang" class="text-base font-medium text-gray-900" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
				</div>
				<div id="bottomSheetUniversityPrice" class="hidden">
					<p class="text-sm text-gray-600 mb-1" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Narx{% elif lang == 'ru' %}Цена{% elif lang == 'tr' %}Fiyat{% else %}Price{% endif %}
					</p>
					<p class="text-base font-semibold text-gray-900" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
				</div>
			</div>
			
			<!-- Statistics -->
			<div id="bottomSheetUniversityStats" class="grid grid-cols-2 gap-4 py-4 bg-gray-50 rounded-2xl px-4"></div>
			
			<!-- Description -->
			<div id="bottomSheetUniversityDescriptionSection" class="hidden">
				<h3 class="text-lg font-medium text-gray-900 mb-3" style="font-family: 'Inter', sans-serif;">
					{% if lang == 'uz' %}Umumiy ma'lumot{% elif lang == 'ru' %}Общая информация{% elif lang == 'tr' %}Genel bilgi{% else %}General Information{% endif %}
				</h3>
				<p id="bottomSheetUniversityDescription" class="text-base text-gray-700 font-normal leading-relaxed whitespace-pre-line" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
			</div>
			
			<!-- Tuition Fees -->
			<div id="bottomSheetUniversityTuitionSection" class="hidden">
				<h3 class="text-lg font-medium text-gray-900 mb-4" style="font-family: 'Inter', sans-serif;">
					{% if lang == 'uz' %}O'qish to'lovi{% elif lang == 'ru' %}Стоимость обучения{% elif lang == 'tr' %}Öğrenim ücreti{% else %}Tuition Fees{% endif %}
				</h3>
				<div id="bottomSheetUniversityTuition" class="grid grid-cols-1 gap-4"></div>
			</div>
			
			<!-- Programs/Majors -->
			<div id="bottomSheetUniversityProgramsSection" class="hidden">
				<h3 class="text-lg font-medium text-gray-900 mb-4" style="font-family: 'Inter', sans-serif;">
					{% if lang == 'uz' %}Yo'nalishlar va dasturlar{% elif lang == 'ru' %}Направления и программы{% elif lang == 'tr' %}Bölümler ve programlar{% else %}Majors & Programs{% endif %}
				</h3>
				<div id="bottomSheetUniversityPrograms" class="space-y-2"></div>
			</div>
			
			<!-- Admission Requirements -->
			<div id="bottomSheetUniversityAdmissionSection" class="hidden">
				<h3 class="text-lg font-medium text-gray-900 mb-4" style="font-family: 'Inter', sans-serif;">
					{% if lang == 'uz' %}Qabul talablari{% elif lang == 'ru' %}Требования к поступлению{% elif lang == 'tr' %}Kabul gereksinimleri{% else %}Admission Requirements{% endif %}
				</h3>
				<div class="bg-white border border-gray-200 rounded-2xl p-4 space-y-4">
					<div>
						<h4 class="text-base font-medium text-gray-900 mb-3" style="font-family: 'Inter', sans-serif;">
							{% if lang == 'uz' %}Kerakli hujjatlar{% elif lang == 'ru' %}Необходимые документы{% elif lang == 'tr' %}Gerekli belgeler{% else %}Required Documents{% endif %}
						</h4>
						<ul id="bottomSheetUniversityDocuments" class="space-y-2"></ul>
					</div>
					<div id="bottomSheetUniversityLanguageReq" class="hidden">
						<h4 class="text-base font-medium text-gray-900 mb-3" style="font-family: 'Inter', sans-serif;">
							{% if lang == 'uz' %}Til talablari{% elif lang == 'ru' %}Языковые требования{% elif lang == 'tr' %}Dil gereksinimleri{% else %}Language Requirements{% endif %}
						</h4>
						<p class="text-sm text-gray-700 font-normal leading-relaxed whitespace-pre-line" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
					</div>
					<div id="bottomSheetUniversityAdmissionProcess" class="hidden">
						<h4 class="text-base font-medium text-gray-900 mb-3" style="font-family: 'Inter', sans-serif;">
							{% if lang == 'uz' %}Qabul jarayoni{% elif lang == 'ru' %}Процесс поступления{% elif lang == 'tr' %}Kabul süreci{% else %}Admission Process{% endif %}
						</h4>
						<p class="text-sm text-gray-700 font-normal leading-relaxed whitespace-pre-line" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
					</div>
					<div id="bottomSheetUniversityDeadline" class="hidden">
						<h4 class="text-base font-medium text-gray-900 mb-3" style="font-family: 'Inter', sans-serif;">
							{% if lang == 'uz' %}Ariza berish muddati{% elif lang == 'ru' %}Срок подачи заявлений{% elif lang == 'tr' %}Başvuru tarihi{% else %}Application Deadline{% endif %}
						</h4>
						<p class="text-sm text-gray-700 font-normal" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
					</div>
				</div>
			</div>
			
			<!-- Location -->
			<div id="bottomSheetUniversityLocationSection" class="hidden">
				<h3 class="text-lg font-medium text-gray-900 mb-4" style="font-family: 'Inter', sans-serif;">
					{% if lang == 'uz' %}Manzil{% elif lang == 'ru' %}Адрес{% elif lang == 'tr' %}Adres{% else %}Location{% endif %}
				</h3>
				<div class="bg-gray-50 border border-gray-200 rounded-2xl p-4">
					<h4 class="text-base font-medium text-gray-900 mb-2" style="font-family: 'Inter', sans-serif;">
						{% if lang == 'uz' %}Kampus manzili{% elif lang == 'ru' %}Адрес кампуса{% elif lang == 'tr' %}Kampüs adresi{% else %}Campus Location{% endif %}
					</h4>
					<p id="bottomSheetUniversityCampusLocation" class="text-sm text-gray-700 font-normal mb-3" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;"></p>
					<a id="bottomSheetUniversityMapLink" href="#" target="_blank" class="text-sm text-gray-900 font-normal hover:underline inline-flex items-center gap-1" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
						{% if lang == 'uz' %}Xaritada ko'rish{% elif lang == 'ru' %}Посмотреть на карте{% elif lang == 'tr' %}Haritada görüntüle{% else %}View on map{% endif %}
						<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
							<path d="M5 12h14M12 5l7 7-7 7"/>
						</svg>
					</a>
				</div>
			</div>
			
			<!-- Advantages -->
			<div id="bottomSheetUniversityAdvantagesSection" class="hidden">
				<h3 class="text-lg font-medium text-gray-900 mb-4" style="font-family: 'Inter', sans-serif;">
					{% if lang == 'uz' %}Afzalliklar{% elif lang == 'ru' %}Преимущества{% elif lang == 'tr' %}Avantajlar{% else %}Advantages{% endif %}
				</h3>
				<div id="bottomSheetUniversityAdvantages" class="grid grid-cols-1 gap-4"></div>
			</div>
		</div>
	</div>
	<div class="university-bottom-sheet-footer">
		<a id="bottomSheetConsultationBtn" href="#" class="w-full inline-flex items-center justify-center px-6 py-3.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors duration-200 text-base font-medium" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;">
			{% if lang == 'uz' %}Maslahat olish{% elif lang == 'ru' %}Получить консультацию{% elif lang == 'tr' %}Danışmanlık al{% else %}Get Consultation{% endif %}
		</a>
	</div>
</div>

<style>
.university-bottom-sheet-overlay {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.5);
	z-index: 10000;
	opacity: 0;
	visibility: hidden;
	transition: opacity 0.3s ease, visibility 0.3s ease;
}

.university-bottom-sheet-overlay.active {
	opacity: 1;
	visibility: visible;
}

.university-bottom-sheet {
	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	background: white;
	border-radius: 24px 24px 0 0;
	z-index: 10001;
	height: 95vh;
	max-height: 95vh;
	display: flex;
	flex-direction: column;
	transform: translateY(100%);
	transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
}

.university-bottom-sheet.active {
	transform: translateY(0);
}

.university-bottom-sheet-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 12px;
	padding: 20px 24px;
	border-bottom: 1px solid #e5e7eb;
	flex-shrink: 0;
}

.university-bottom-sheet-close {
	background: none;
	border: none;
	cursor: pointer;
	padding: 8px;
	color: #6b7280;
	transition: color 0.2s;
}

.university-bottom-sheet-close:hover {
	color: #111827;
}

.university-bottom-sheet-content {
	flex: 1;
	overflow-y: auto;
	overflow-x: hidden;
	padding: 24px;
	min-height: 0;
	-webkit-overflow-scrolling: touch;
}

.university-bottom-sheet-footer {
	padding: 20px 24px;
	border-top: 1px solid #e5e7eb;
	background: white;
}

@media (min-width: 769px) {
	.university-bottom-sheet-overlay,
	.university-bottom-sheet {
		display: none;
	}
}
</style>

{% endblock %}
